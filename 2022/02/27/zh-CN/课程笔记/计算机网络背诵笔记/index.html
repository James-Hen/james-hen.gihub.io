<!DOCTYPE html>
<html lang="zh-CN,en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/Avatar.jpg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.gif">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.gif">
  <link rel="mask-icon" href="/images/favicon-32x32.gif" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jyzhang.xyz","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="本提纲是计算机网络课程的复习背诵，根据西交的考点截取了内容。这个课程使用 Tanenbaum, Andrew S. 的著名课本。 开悟 计算机网络是一组通过单一技术相互连接的自主计算机集合 分布式系统强调整体性 分类 [Personal | Local | Metropolitan | Wide] Area Networks、internetworks 按其他标准 子网：一组路由器和通信线路的集合">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络背诵笔记">
<meta property="og:url" content="http://jyzhang.xyz/2022/02/27/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%83%8C%E8%AF%B5%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Junyang Zhang&#39;s Blog">
<meta property="og:description" content="本提纲是计算机网络课程的复习背诵，根据西交的考点截取了内容。这个课程使用 Tanenbaum, Andrew S. 的著名课本。 开悟 计算机网络是一组通过单一技术相互连接的自主计算机集合 分布式系统强调整体性 分类 [Personal | Local | Metropolitan | Wide] Area Networks、internetworks 按其他标准 子网：一组路由器和通信线路的集合">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/image-20220223102513412.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2-20.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2-22.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2-28.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2-43.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/image-20220223141513564.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/image-20220223142343462.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/image-20220223144101981.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-01-10-15-32-22-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-06-18-40-25-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-06-19-18-35-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/image-20220222181549156.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-08-22-02-37-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-09-20-48-58-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-09-21-11-28-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-09-21-15-19-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-09-21-43-25-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-09-21-46-03-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-10-17-26-30-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-10-19-49-04-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-12-10-59-12-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-12-14-47-15-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-12-15-35-55-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-12-16-32-06-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-12-21-03-19-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-12-22-35-15-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-12-22-43-58-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-12-22-48-14-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-12-23-21-38-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-12-23-22-06-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-12-23-50-35-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-12-23-54-10-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-13-00-02-12-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-13-00-08-41-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-15-21-28-56-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-15-22-24-10-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-16-11-37-22-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-16-16-34-21-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-16-20-15-45-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-16-17-28-53-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-16-20-31-28-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-16-20-32-21-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-16-21-01-38-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-16-21-22-36-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-16-21-55-31-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-16-22-03-25-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-16-22-10-15-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-16-22-24-56-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-15-05-08-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-15-06-38-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-15-42-15-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-16-11-23-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-16-26-13-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-16-38-50-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-16-41-22-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-19-23-26-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-19-26-50-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-19-43-29-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-19-47-14-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-19-51-35-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-20-09-11-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-20-26-33-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-20-28-27-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-20-36-50-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-21-19-03-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-21-39-51-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-21-50-34-image.png">
<meta property="og:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/2022-02-17-22-55-37-image.png">
<meta property="article:published_time" content="2022-02-27T10:00:53.000Z">
<meta property="article:modified_time" content="2022-02-27T10:18:00.643Z">
<meta property="article:author" content="Junyang Zhang">
<meta property="article:tag" content="课程笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://jyzhang.xyz/images/ComputerNetworkCourse/image-20220223102513412.png">

<link rel="canonical" href="http://jyzhang.xyz/2022/02/27/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%83%8C%E8%AF%B5%E7%AC%94%E8%AE%B0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>计算机网络背诵笔记 | Junyang Zhang's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Junyang Zhang's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jyzhang.xyz/2022/02/27/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%83%8C%E8%AF%B5%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/CasualPortraitOct2021.png">
      <meta itemprop="name" content="Junyang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Junyang Zhang's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          计算机网络背诵笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-02-27 18:00:53 / 修改时间：18:18:00" itemprop="dateCreated datePublished" datetime="2022-02-27T18:00:53+08:00">2022-02-27</time>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2022/02/27/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%83%8C%E8%AF%B5%E7%AC%94%E8%AE%B0/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/02/27/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%83%8C%E8%AF%B5%E7%AC%94%E8%AE%B0/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>本提纲是计算机网络课程的复习背诵，根据西交的考点截取了内容。这个课程使用 Tanenbaum, Andrew S. 的著名课本。</p>
<h2 id="开悟">开悟</h2>
<p>计算机网络是一组通过<strong>单一技术</strong>相互连接的<strong>自主计算机</strong>集合</p>
<p>分布式系统强调整体性</p>
<h3 id="分类">分类</h3>
<p><code>[Personal | Local | Metropolitan | Wide] Area Networks</code>、internetworks</p>
<p>按其他标准</p>
<p>子网：一组路由器和通信线路的集合，主要负责将数据包从源主机移动到目的主机</p>
<h3 id="分层模型">分层模型</h3>
<p>优点：各层独立，灵活性好，结构分离，易于实现维护，促进标准化</p>
<p>原则：根据功能需要，功能明确，利于标准，信息量少，层数合适</p>
<p>OSI 七层模型（主要概念：服务、接口、时序）</p>
<p>协议三要素：语法、语义、时序</p>
<table>
<thead>
<tr class="header">
<th>Unit exchanged</th>
<th>层</th>
<th>协议</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>APDU</td>
<td>应用</td>
<td>HTTP, SMTP, RTP, DNS, TELNET, FTP, DNS</td>
</tr>
<tr class="even">
<td>PPDU</td>
<td>表示</td>
<td></td>
</tr>
<tr class="odd">
<td>SPDU</td>
<td>会话</td>
<td></td>
</tr>
<tr class="even">
<td>TPDU (Segment)</td>
<td>传输</td>
<td>TCP, UDP</td>
</tr>
<tr class="odd">
<td>Packet</td>
<td>网络</td>
<td>IP, ICMP, RIP, OSPF, BGP</td>
</tr>
<tr class="even">
<td>Frame</td>
<td>数据链路</td>
<td>PPP</td>
</tr>
<tr class="odd">
<td>Bit</td>
<td>物理</td>
<td></td>
</tr>
</tbody>
</table>
<p>TCP/IP 模型：应用层，传输层，互联网层（Host to network）（Link layer）</p>
<p>会话层：管理应用程序间的会话；表示层：处理语法语义</p>
<h3 id="服务">服务</h3>
<p>有无连接，有无确认</p>
<table>
<thead>
<tr class="header">
<th>服务</th>
<th>例子</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>可靠消息流</td>
<td>帧序列</td>
</tr>
<tr class="even">
<td>可靠字节流</td>
<td>远程登录</td>
</tr>
<tr class="odd">
<td>不可靠连接</td>
<td>数字语音</td>
</tr>
<tr class="even">
<td>不可靠数据报</td>
<td>垃圾邮件</td>
</tr>
<tr class="odd">
<td>确认数据报</td>
<td>挂号信</td>
</tr>
<tr class="even">
<td>请求-回复</td>
<td>数据库查询</td>
</tr>
</tbody>
</table>
<h3 id="standardization">Standardization</h3>
<table>
<thead>
<tr class="header">
<th>Body</th>
<th>Area</th>
<th>E.g.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ITU</td>
<td>Telecommunication</td>
<td>G.992 (ASDL), H.264</td>
</tr>
<tr class="even">
<td>IEEE</td>
<td>Communications</td>
<td>802.3, 802.11, 802.15 (PAN)</td>
</tr>
<tr class="odd">
<td>IETF</td>
<td>Internet</td>
<td>RFC 2616, RFC 1034/1035</td>
</tr>
<tr class="even">
<td>W3C</td>
<td>Web</td>
<td>HTML5</td>
</tr>
</tbody>
</table>
<h3 id="internet-architecture">Internet Architecture</h3>
<ul>
<li>POP: Point Of Presence；ISP 存点</li>
<li>IXP: internet exchange point；Internet 交换点</li>
<li>CMTS: cable modem termination system</li>
<li>DSLAM: access multiplexer</li>
</ul>
<figure>
<img src="/images/ComputerNetworkCourse/image-20220223102513412.png" alt="image-20220223102513412" /><figcaption aria-hidden="true">image-20220223102513412</figcaption>
</figure>
<hr />
<h2 id="物理层">物理层</h2>
<p>机械特性；电气特性；规程特性（同步、信号时序、应答关心、操作过程）；功能特性</p>
<h3 id="傅立叶分析">傅立叶分析</h3>
<p>假设周期是 8 个 Bit，8 次谐波足以复原信号</p>
<p>则 <span class="math inline">\(b\)</span> Bit/s 的第一个谐波频率为 <span class="math inline">\(b/8\)</span> Hz，可发送的谐波次数是截止频率（电话线 3kHz）除以一次谐波频率</p>
<h3 id="nyquist-采样定理">Nyquist 采样定理</h3>
<p>波特率：符号一秒变换的次数 <span class="math inline">\(B_r\)</span>；比特率 <span class="math inline">\(s\)</span>（bps）；离散等级 <span class="math inline">\(V\)</span> <span class="math display">\[
s=B_r\log_2 V
\]</span> 采样定理 <span class="math display">\[
\max{s} = 2B\log_2V
\]</span></p>
<p>其中 <span class="math inline">\(B\)</span> 为带宽</p>
<p>也就是说，带宽 <span class="math inline">\(B\)</span> 的信道最多做两倍频率采样来到达 <span class="math inline">\(2B\)</span> 的波特率</p>
<h3 id="shanon-定理">Shanon 定理</h3>
<p><span class="math display">\[
\text{Maximum Bit Rate} = B\log_2(1+S/N)
\]</span></p>
<p>其中 <span class="math inline">\(S/N\)</span> 是信噪比</p>
<p>dB: <span class="math inline">\(10\log_{10}(S/N)\)</span></p>
<h3 id="介质">介质</h3>
<p>引导型介质：磁，双绞线（S/U TP），同轴线，电力线，光纤（0.85um, 1.30um, 1.55um）</p>
<p>非引导型介质：电磁波，微波，红外，可见光</p>
<p>VLF，LF，MF 地面传播（AM）</p>
<p>HF、VHF、UHF 电离层反射（FM/TV）</p>
<p>卫星：LEO，MEO（GPS），GEO（L, S, C, Ku, Ka）（SHF、EHF）</p>
<p>小口径终端可使用地面 Hub 放大</p>
<h3 id="数字调制">数字调制</h3>
<p>比特（数据）与代表他们的信号之间的转换过程称为数字调制</p>
<p>Baseband、Passband</p>
<figure>
<img src="/images/ComputerNetworkCourse/2-20.png" alt="2-20" /><figcaption aria-hidden="true">2-20</figcaption>
</figure>
<ul>
<li>T1/USB：NRZI</li>
<li>Ethernet：Manchester</li>
</ul>
<p>解决 NRZI 长串 0：4B/5B 码，扰频</p>
<p>解决直流分量：双极编码（1/-1 均为 1，用于平衡直流分量），8B/10B码</p>
<h3 id="通带传输">通带传输</h3>
<p>ASK 幅移键控</p>
<p>FSK 频移键控</p>
<p>PSK 相移键控：二进制相移键控 BPSK，正交相移键控 QPSK</p>
<p>QAM 正交调幅</p>
<figure>
<img src="/images/ComputerNetworkCourse/2-22.png" alt="2-22" /><figcaption aria-hidden="true">2-22</figcaption>
</figure>
<h3 id="信道复用">信道复用</h3>
<p><strong>频分复用</strong> FDM</p>
<p>利用通带传输使多个用户共享信道</p>
<p>OFDM 正交频分复用：取消保护带，在所有子载波上调制</p>
<p><strong>波分复用</strong> WDM</p>
<p>（SONET）波长，光纤上极高频率的频分多路复用</p>
<p><strong>时分复用</strong> TDM</p>
<p>时间槽，保护时间</p>
<p>统计时分复用</p>
<p><strong>码分复用</strong> CDMA</p>
<p>Code Division Multiple Access，由 Walsh 码产生正交码片序列，每个比特分为 <span class="math inline">\(m\)</span> 个码片，每个站发送被分配的码片序列或其反码</p>
<p>所有站的码片序列两两正交，<span class="math inline">\(S\cdot T=\dfrac{1}{m}\sum_{i=1}^mS_iT_i=0\)</span></p>
<figure>
<img src="/images/ComputerNetworkCourse/2-28.png" alt="2-28" /><figcaption aria-hidden="true">2-28</figcaption>
</figure>
<h3 id="电话交换网">电话交换网</h3>
<p>Local loop; Trunks; Switching offices</p>
<p>LATA (Local Access and Transport Access), LEC, IXC</p>
<p>DSL: Cat3 UTP</p>
<p>ASDL (Asymmetric Digital Subscriber Lines) 256x4kHz Channels; 0-25 Voice</p>
<p>数字电话中使用脉冲编码调制 PCM，Pulse Code Modulation，每秒采集 8000 个样值，T1 载波每帧（125 <span class="math inline">\(\mu\text{s}\)</span>）24 个信道（TDM），每信道 8 bit，一个帧标记位，共 193 bit，<span class="math inline">\((8\times 24 + 1)\times 8000 = 1.544\)</span> Mbps，信令控制 8 kbps</p>
<p>T2 = 4 T1，T3 = 7 T2，T4 = 6 T3</p>
<p>SONET（Synchronous Optical Network），每帧 <span class="math inline">\(87+3\)</span> 列，<span class="math inline">\(9\)</span> 行， <span class="math inline">\(8\times810\times((87+3)\times 9)\times 8000 = 51.84\)</span> Mbps</p>
<p>有线电视网同轴搭接，同轴接到光纤节点；固话每家回环到 End Office</p>
<h3 id="交换">交换</h3>
<p>电路交换（Strowger 装置）：建立电路，传输数据，拆除电路</p>
<p>包交换（存储-转发）：报文交换（逻辑上完整），分组交换（数据报、虚电路），信元交换（固定长度的信息段）</p>
<figure>
<img src="/images/ComputerNetworkCourse/2-43.png" alt="2-43" /><figcaption aria-hidden="true">2-43</figcaption>
</figure>
<p>发送时延、传播时延、转发时延</p>
<h3 id="蜂窝网络">蜂窝网络</h3>
<p>频率可跨蜂窝复用，并随着用户的移动而切换蜂窝</p>
<p>模拟语音 1G（AMPS），临近蜂窝不复用，832 个信道（Control/Paging/Access/Data），FDM，频分双工（FDD）</p>
<p>数字语音 2G（GSM），124 FDM，8 TDM，148 bit 数据帧</p>
<p>移动交换中心 MSC，归属位置寄存器 HLR，拜访位置寄存器 VLR，鉴权中心 HLR</p>
<p>数字语音数据 3G，CDMA（长伪随机序列），功率控制</p>
<p>4G，TD-LTE（TDD 时分双工）</p>
<p>5G，融合怪</p>
<hr />
<h2 id="数据链路层">数据链路层</h2>
<p>主要功能：物理地址；成帧（定界与同步）；差错控制；流量控制；信道访问控制</p>
<p>PPP：成帧，链路控制（启动、测试线路、协商参数）、协商网络层选项（没有差错流量控制）</p>
<p>上层服务：不可靠（无 ACK）无连接，可靠无连接，可靠连接</p>
<p>应答：最常采用正向（负向，双向）</p>
<h3 id="成帧">成帧</h3>
<p>原则：易区分，带宽小</p>
<ul>
<li>字节计数法</li>
<li>字节填充的标志字节法 FLAG，ESC</li>
<li>含位填充的分界标志法：使用 01111110 定界，连续 1 塞 0</li>
<li>物理层编码违例法：冗余编码使用</li>
</ul>
<h3 id="错误控制">错误控制</h3>
<h4 id="自动纠错">自动纠错</h4>
<ol type="1">
<li><p>Hamming codes</p></li>
<li><p>Binary convolutional codes</p></li>
<li><p>Reed-Solomon codes</p></li>
<li><p>Low-Density Parity Check codes</p></li>
</ol>
<p>汉明距离即异或值的 1 数量</p>
<p>纠错码 <span class="math inline">\(n=m+r\)</span> 位，对于一位错误纠错，<span class="math inline">\(m+r+1\le 2^r\)</span>（对于合法的 <span class="math inline">\(2^m\)</span> 个码字，距离 1 内的 <span class="math inline">\(n+1\)</span> 个码字都纠错至它）</p>
<h5 id="hamming-code">Hamming Code</h5>
<p>汉明码 index <span class="math inline">\([1,n]\)</span>，第 <span class="math inline">\(2^k, k\ge 0\)</span> 位是二进制 index <span class="math inline">\(k\)</span> 位为 1 的所有值（包括自己）的偶校验</p>
<p>纠错位置为所有校验结果拼接成的二进制串表示的 index（<code>...P8P4P2P1</code>）</p>
<h4 id="检错反馈重发">检错反馈重发</h4>
<ol type="1">
<li><p>Parity</p></li>
<li><p>Checksums</p></li>
<li><p>Cyclic Redundancy Checks</p></li>
</ol>
<h5 id="crc">CRC</h5>
<p><span class="math inline">\(r\)</span> 阶生成多项式 <span class="math inline">\(G(x)\)</span>，向帧追加 <span class="math inline">\(r\)</span> 位使得多项式能被 <span class="math inline">\(G(x)\)</span> 模二除尽</p>
<h3 id="流量控制">流量控制</h3>
<h4 id="utopian">Utopian</h4>
<p>无错，理想信道，单工</p>
<p>链路层进什么出什么</p>
<h4 id="无错信道下的单工停等协议">无错信道下的单工停等协议</h4>
<p>收方有有限的速度和缓冲区，每收一包发送确认；</p>
<p>发方只有确认后才可发下一包。</p>
<h4 id="有错信道下的单工停等协议">有错信道下的单工停等协议</h4>
<p>采用正向应答、定时重传、循环序列号</p>
<h4 id="有错信道下的双工协议">有错信道下的双工协议</h4>
<p>Piggybacking：ACK 序列号在数据帧中附带</p>
<p>缺点：同时开始传送时，若超时计时器不合理，将会传送三次以上</p>
<p><code>ack_timeout</code> 用于 Piggyback 缺少反向流量的情况</p>
<h5 id="滑动窗口协议">滑动窗口协议</h5>
<p>发送端维护允许连续发送未应答帧的序号，当收到 ACK 后该序号移除并后移窗口</p>
<p>接收端维护允许连续接收未处理帧的序号，当收到后将该序号移除并后移窗口</p>
<p>延迟-带宽乘积 <span class="math inline">\(BD\)</span>，窗口大小（发送容许未 ACK 的帧数量）为 <span class="math inline">\(w\)</span>，链路利用率小于 <span class="math inline">\(\dfrac{w}{1+2BD}\)</span></p>
<h5 id="损坏帧处理">损坏帧处理</h5>
<p>根据接收缓冲区和带宽的 Trade-off，有两种方案</p>
<p><strong>Go Back N</strong></p>
<p>在该帧之后的所有帧都会被忽略，接收窗口大小为 1</p>
<p>使用累计确认（accumulative acknowledgement），确认某帧会确认之前帧</p>
<p>每一帧都要给一个计数器</p>
<p><strong>Selective Repeat</strong></p>
<p>仅重传该帧，需要 NAK</p>
<p>为了防止发送接收窗口重叠，序列号空间至少为窗口大小的两倍</p>
<h3 id="数据链路层协议例子">数据链路层协议例子</h3>
<h4 id="sonet">SONET</h4>
<p>IP 包；PPP 帧；SONET 载荷</p>
<p>PPP 负责成帧，链路控制（LCP），协商网络层选项（NCP），错误检测；不需要错误纠正，流量控制，有序性，多点链路</p>
<p>PPP 帧结构：Flag 转义 <code>0x7D 0x5E</code>；控制域在不可靠线路上可以使用有序号的传输</p>
<figure>
<img src="/images/ComputerNetworkCourse/image-20220223141513564.png" alt="image-20220223141513564" /><figcaption aria-hidden="true">image-20220223141513564</figcaption>
</figure>
<figure>
<img src="/images/ComputerNetworkCourse/image-20220223142343462.png" alt="image-20220223142343462" /><figcaption aria-hidden="true">image-20220223142343462</figcaption>
</figure>
<h4 id="asdl">ASDL</h4>
<p>PPP；AAL5；ATM；ASDL 载荷</p>
<figure>
<img src="/images/ComputerNetworkCourse/image-20220223144101981.png" alt="image-20220223144101981" /><figcaption aria-hidden="true">image-20220223144101981</figcaption>
</figure>
<hr />
<h2 id="介质访问控制子层">介质访问控制子层</h2>
<p>静态信道分配：FDM，TDM</p>
<p>动态信道分配假设：独立流量、单信道、检测冲突、连续时间或时间槽、载波监听或无载波监听</p>
<p>发送站行为假设：所有帧长相等，泊松分布发送每帧时间发送包均值 <span class="math inline">\(0&lt;N&lt;1\)</span>，带重传均值 <span class="math inline">\(G\)</span>，冲突率 <span class="math inline">\(P_0\)</span>，吞吐率 <span class="math inline">\(S=GP_0\)</span></p>
<p>给定时间发送 <span class="math inline">\(k\)</span> 帧的概率</p>
<p><span class="math display">\[
\mathrm{Pr}[k]=\frac{G^ke^{-G}}{k!}
\]</span></p>
<h3 id="aloha">ALOHA</h3>
<p><strong>连续时间</strong></p>
<p>无载波监听，若要发送，则直接发送，若冲突，随机重传；<span class="math inline">\(G=0.5\)</span> 时效率最好 <span class="math inline">\(18.4\%\)</span></p>
<p><span class="math inline">\(S=Ge^{-2G}\)</span></p>
<p><strong>时间槽</strong></p>
<p>时间槽内才能发送，冲突时间减半，最高效率翻倍 <span class="math inline">\(G=1\)</span> 时效率最好 <span class="math inline">\(36.8\%\)</span></p>
<p><span class="math inline">\(S=Ge^{-G}\)</span></p>
<h3 id="csma">CSMA</h3>
<p>Carrier Sence Multiple Access，有载波监听的多站访问</p>
<p><strong>1-persistent</strong></p>
<p>监听，若可发，立即发</p>
<p><strong>Non-persistent</strong></p>
<p>监听，若不可发，随机时间后再次尝试</p>
<p><strong>p-persistent</strong></p>
<p>使用时间槽，若信道可用，以 <span class="math inline">\(p\)</span> 概率发送，<span class="math inline">\(1-p\)</span> 概率下一槽发送</p>
<p><img src="/images/ComputerNetworkCourse/2022-01-10-15-32-22-image.png" /></p>
<h3 id="csma-cd">CSMA-CD</h3>
<p>CSMA with Collision Detection，带冲突检测</p>
<p>如果冲突发生，立即停止发送，等随机时间</p>
<p><strong>Bit-Map Protocol</strong></p>
<p>N 个冲突槽，在冲突时间发比特以预约，接下来由编号高的站先发</p>
<p><strong>Token Ring</strong></p>
<p>拥有 Token 的站可以发，并把 Token 传递给下一个站</p>
<p><strong>Binary Countdown</strong></p>
<p>在竞争期间从高到低发自己的编号，若看到 1 且自己为 0 则放弃（上述两种每站在竞争期间都需要一位，<span class="math inline">\(O(N)\)</span>；此方法 <span class="math inline">\(O(\log N)\)</span>）</p>
<h3 id="limited-contention-protocols">Limited-Contention Protocols</h3>
<p>思路：对 <span class="math inline">\(k\)</span> 个站来说，每个站该槽发的概率若是 <span class="math inline">\(p\)</span>，成功发的几率是 <span class="math inline">\(kp(1-p)^{k-1}\)</span>。对 <span class="math inline">\(p\)</span> 求导可得最优概率 <span class="math inline">\(((k-1)/k)^{k-1}\)</span>。将多个站分为组，组内竞争，组间无竞争。</p>
<p><strong>The Adaptive Tree Walk Protocol</strong></p>
<p>自适应树遍历协议：叶子是站，节点是组，有冲突则深度优先走直到不冲突</p>
<p>假设 <span class="math inline">\(q\)</span> 个 ready 站均匀分布，<span class="math inline">\(i\)</span> 层某节点的 ready 站期望为 <span class="math inline">\(2^{-i}q\)</span></p>
<h3 id="wireless-lan-protocols">Wireless LAN Protocols</h3>
<p>Hidden terminal problem：A 给 B 发，看不见的 C 也给 B 发</p>
<p>Exposed terminal problem：A 因为 C 不给 B 发，但实际上 C 对 B 没影响</p>
<p>MACA (Multiple Access with Collision Avoidance)：RTS (Request To Send)，CTS (Clear To Send)；其他收到 CTS 的站不能发，仅收到 RTS 的站可以发</p>
<hr />
<h2 id="ethernet">Ethernet</h2>
<h3 id="classic-ethernet">Classic Ethernet</h3>
<h4 id="physical-layer">Physical Layer</h4>
<p>全部通过 Transceiver 接到同一根同轴线上，同轴线可以 Repeater 串接</p>
<p>发曼彻斯特码</p>
<p>线：<code>xBasey/xBase-T/F</code>，x 表示速率（Mbps），Base 基带传输，y 表示 coax 长度（100m），Twisted pair/Fiber；用四个中继器最长 2500 米</p>
<h4 id="mac-sublayer">MAC Sublayer</h4>
<h5 id="帧格式">帧格式</h5>
<p>前导码每字节 <code>10101010</code>，除了最后一位 Start of frame；它是曼彻斯特码方波</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-06-18-40-25-image.png" /></p>
<p>MAC 地址第一位 1 是组播地址，全 1 是广播地址</p>
<p>由于 Ethernet 和 IEEE 的兼容问题，0x600 以下为 Length，否则 Type</p>
<p>Data 最长限制最早来自于 Transceiver 的 RAM 容量</p>
<p>传播时延 <span class="math inline">\(\tau\)</span>，最长 <span class="math inline">\(2\tau\)</span> 时检测到错误，帧长不得小于该时间（2500m，50 <span class="math inline">\(\mu\)</span>s，10 Mbps，则最小帧长 500 bit）；每一个检测到冲突的站都发 4-6 Byte 的干扰串；最小帧长 64 字节</p>
<p>32 bit CRC Checksum</p>
<h5 id="csma-cd-1">CSMA-CD</h5>
<p>一个时间槽 64 bit</p>
<p>802.3：1-坚持 CSMA-CD</p>
<p>Binary Exponential Backoff: 假设我发的帧已经撞了 <span class="math inline">\(i\)</span> 次，下次发之前等待 <code>randfrom(0, 2^i)</code> 个时间槽；第 10-15 次冲突等最多 1023 个时间槽，第十六次没成功就开摆</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-06-19-18-35-image.png" /></p>
<h3 id="交换以太网">交换以太网</h3>
<p>全双工则无冲突</p>
<p>混杂模式：所有的帧给所有的电脑，不只给 dst</p>
<h3 id="快速以太网">快速以太网</h3>
<p>802.3u，直接快十倍，再变短（210 m）</p>
<p>100Base-TX 4B-5B 125 MHZ, 100 Mbps (Cat 5 UTP)</p>
<figure>
<img src="/images/ComputerNetworkCourse/image-20220222181549156.png" alt="image-20220222181549156" /><figcaption aria-hidden="true">image-20220222181549156</figcaption>
</figure>
<h3 id="千兆以太网">千兆以太网</h3>
<p>支持 200m：</p>
<ul>
<li>载波扩展（加 Padding 到 512 Byte）</li>
<li>帧突发（合并多个帧）</li>
</ul>
<h3 id="万兆">万兆</h3>
<p><code>10GBase-[S|L|E]R/CX4/T</code>，三种光纤/四对同轴/四对双绞线（Cat 6a）</p>
<hr />
<h2 id="无线网络">无线网络</h2>
<h3 id="section">802.11</h3>
<p>数据链路层分为 MAC 子层和 LLC（Logical Link Control）子层</p>
<h4 id="physical-layer-1">Physical Layer</h4>
<p>802.11 Frequency hopping</p>
<p>802.11b Spread spectrum, CDMA 2.4G</p>
<p>802.11a OFDM 5G</p>
<p>802.11g OFDM 2.4G</p>
<p>802.11n MIMO OFDM</p>
<h4 id="mac-sublayer-1">MAC Sublayer</h4>
<p>CSMA-CA</p>
<p>准备发之前先随机后退（Backoff）一段时间，若冲突使用 Binary Exponential Backoff</p>
<p>使用 ACK 推断冲突</p>
<p>DCF: Distributed Coordination Function 分布式协调功能</p>
<p>Point Coordination Function 用于单 AP 情况，通常无用</p>
<p>Virtual Sensing: Network Allocation Vector 记录别的站要发多久，RTS CTS 实际上没啥用</p>
<p>DIFS (DCF Interframe Spacing) 每种帧后退不一</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-08-22-02-37-image.png" /></p>
<h4 id="帧格式-1">802.11 帧格式</h4>
<p><img src="/images/ComputerNetworkCourse/2022-02-09-20-48-58-image.png" /></p>
<p>三个地址：AP, src, dst; rcv, AP, src</p>
<h3 id="broadband-wireless">802.16 Broadband Wireless</h3>
<p>早期试图作为有线本地回环的无线替代的产物，挑战 4G</p>
<p>数据链路层有三个子层：Security Sublayer; MAC common sublayer; Service specific convergence sublayer.</p>
<h4 id="physical">Physical</h4>
<p>802.16a OFDM, Fixed; 802.16e Scalable OFDMA Mobile</p>
<p>3.5 GHz/2.5 GHz</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-09-21-11-28-image.png" /></p>
<h4 id="mac">MAC</h4>
<p>Classes of service (same as ATM)</p>
<ul>
<li><p>constant bit rate (uncompressed voice)</p></li>
<li><p>real-time variable bit rate (compressed multimedia)</p></li>
<li><p>non-real-time variable bit rate (file transfer)</p></li>
<li><p>best-effort (else)</p></li>
</ul>
<p><img src="/images/ComputerNetworkCourse/2022-02-09-21-15-19-image.png" /></p>
<h3 id="bluetooth">Bluetooth</h3>
<p>Piconet: Master and slaves</p>
<p>TDM 系统（时分复用）</p>
<p>活跃从节点最大 7 个，最多 255 个驻留节点</p>
<p>Scatternet: overlapping piconets</p>
<p>对于不同的应用预先定义 Profile</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-09-21-43-25-image.png" /></p>
<p>Linkcontrol <span class="math inline">\(\sim\)</span> MAC</p>
<p>L2CAP: Logical Link Control Adaptation Protocol</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-09-21-46-03-image.png" /></p>
<p>Header：F 流量控制 A 确认 S 序号；重复三遍是保证大量冗余</p>
<h3 id="rfid">RFID</h3>
<p>Radio Frequency Identification</p>
<p>EPC (Electronic Product Code) Gen 2 RFID</p>
<h3 id="physical-layer-2">Physical layer</h3>
<p>标签选择不反射或反射读写器的信号（后向散射 Backscatter）</p>
<h3 id="tag-identification-layer">Tag Identification Layer</h3>
<p>Slotted ALOHA</p>
<p>读写器告诉标签的时间槽范围（Query Qrepeat），标签随机选择时间槽应答 RN16，收到读写器ACK后，再发 EPC</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-10-17-26-30-image.png" /></p>
<hr />
<h2 id="二层交换">二层交换</h2>
<h3 id="学习网桥">学习网桥</h3>
<p>网桥工作在混杂模式（dst 不是网桥的包也可以处理）</p>
<p>泛洪：不知道就全发</p>
<p>后向学习：看源端口学</p>
<h3 id="生成树网桥">生成树网桥</h3>
<p>802.1D</p>
<p>选举一个根，然后按到根的距离做生成树</p>
<h3 id="vlan">VLAN</h3>
<p>802.1Q</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-10-19-49-04-image.png" /></p>
<p>最大长度 1522 字节（本来是 1518）</p>
<p>Type 字段魔改一番；CFI: Canonical Format Indicator</p>
<hr />
<h2 id="网络层">网络层</h2>
<p>主要功能：寻址；路由选择；数据分组转发；流量控制；拥塞控制；差错检测恢复；审计</p>
<h3 id="面向连接实现">面向连接实现</h3>
<p>标签交换：路由器可以分配连接标识符</p>
<p>多协议标签交换 MPLS</p>
<h3 id="路由算法">路由算法</h3>
<ul>
<li><p>泛洪算法：设最大跳数，通过维护源路由器的最大序号表判断泛洪过的数据包</p></li>
<li><p>距离矢量路由：表告诉你某目的走哪条路</p>
<ul>
<li>有无穷计数问题</li>
</ul></li>
<li><p>链路状态路由（OSPF/IS-IS）：把完整的链路信息发给别的节点</p>
<ul>
<li><p>广播 LAN（一根 Ethernet）被建模成一个节点，指定一台做路由工作</p></li>
<li><p>发现邻居、度量成本、构造信息包、发给其他路由器、接收信息包、计算最短路</p></li>
<li><p>每一个链路信息数据包都有 Age，每次转发或走过一秒减一</p></li>
<li><p>状态包缓冲区里记录了 Age，Seq，发送标志（要发到哪里），ACK 标志（从哪个端口来）</p></li>
</ul></li>
<li><p>层次路由：分层，最优的层数是 <span class="math inline">\(\ln N\)</span></p></li>
<li><p>广播路由：逆向路径转发（沿着生成树来的泛洪包可以转，其他的不用）</p></li>
<li><p>组播路由：距离矢量组播路由协议（生成树子树如果没儿子有兴趣就剪掉，但是每个组播源都可能是根）；核心树（发给某个组的树根然后转发，树其实是同一颗）</p></li>
<li><p>任播路由（Anycast，发给最近的组成员）：<del>层次路由即可</del></p></li>
<li><p>移动路由：家乡代理</p></li>
<li><p>Ad Hoc 路由（ADOV）：按需发现（泛洪），路由维护（周期 Hello）</p></li>
</ul>
<h3 id="拥塞控制">拥塞控制</h3>
<ul>
<li><p>网络供给：加钱</p></li>
<li><p>流量感知路由：依照负载调节路由权重</p></li>
<li><p>准入控制：应用于虚电路，控制虚电路建立</p></li>
<li><p>流量调节：向上游发 Choke 包（抑制包）；ECN（应答包上打标记）；逐跳后压（每一跳收到抑制都要减缓）</p></li>
<li><p>负载脱落：Wine；Milk；Priority；RED（Random Early Detection，平均队列长度超阈值即丢）</p></li>
</ul>
<h3 id="服务质量">服务质量</h3>
<ul>
<li><p>应用需求（带宽；延迟；抖动；丢失）</p></li>
<li><p>流量整形</p>
<ul>
<li><p>漏桶：数据包恒定速率流出</p></li>
<li><p>令牌桶：用令牌发包，令牌恒定速率供给，可以存一些</p></li>
</ul></li>
<li><p>包调度：同一个流的数据包需要统一路由；预约带宽、缓冲和 CPU 时钟</p>
<ul>
<li><p>Round-robon 多个流公平队列</p></li>
<li><p>Weighted Fair Queueing 计算 Finish Time <span class="math inline">\(F_i=\max(A_i, F_{i-1})+L_i/W\)</span>，按 Finish Time 排序发送</p></li>
</ul></li>
<li><p>准入控制：建立流时生成流规范（令牌桶容量，令牌桶速率，峰值速率，最小最大包大小），一路上的路由器调整规范并预留资源</p></li>
<li><p>综合服务，资源预留协议：沿着组播生成树往上走做预留</p></li>
<li><p>区分服务：基于类别的服务质量，单跳行为（在服务器的待遇）</p>
<ul>
<li><p>加速转发：开了一个新的快道</p></li>
<li><p>确保转发：先过分类器，再过监管器，生成 12 个 优先级（4 个分类 3 个丢包），进 WFQ</p></li>
</ul></li>
</ul>
<h3 id="互联网络">互联网络</h3>
<p>网络层要隐藏下面不同的链路层技术</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-12-10-59-12-image.png" /></p>
<p>多协议路由，管道技术：直接把整个带头的包包住（v4 包 v6）</p>
<h4 id="数据包分段">数据包分段</h4>
<p>限制包长的理由</p>
<ul>
<li><p>硬件（如以太网 1500）</p></li>
<li><p>操作系统（如 512 Byte 缓冲区）</p></li>
<li><p>协议（IP 65515 Byte）</p></li>
<li><p>标准</p></li>
<li><p>减少错误带来的重传（802.11 2272 Byte）</p></li>
<li><p>防止占信道</p></li>
</ul>
<p>MTU (Path Maximum Transmission Unit)</p>
<p>Transparent fragmentation: 出网关重组（需要计数，路由器支持，需要缓冲）</p>
<p>Nontransparent fragmentation: 直到目的再重组（分段开销，丢包，主机突发大）</p>
<p>分段相关字段：包编号（分段后一样）；Offset（第一字节的偏移量）；终止位（最后一段）</p>
<p>路径 MTU 发现：如果包太大就传回去告诉源重发个小的</p>
<h3 id="ipv4">IPv4</h3>
<h4 id="ip-头">IP 头</h4>
<p><img src="/images/ComputerNetworkCourse/2022-02-12-14-47-15-image.png" /></p>
<p>(4b) IHL: 头长度，5-15 Words</p>
<p>(1B) Diff.Serv.: 6b 标识确保服务，2b ECN</p>
<p>(2B) L: 65535 Max</p>
<p>(2B) ID: 包序号，同一个包的所有段一样</p>
<p>(1b) Unused</p>
<p>(1b) DF: Don't Fragment，来检测 MTU</p>
<p>(2b) MF: More Fragments: 同包最后一段置 0</p>
<p>(13b) Frag.Offs: 第一字节的位置，段按 8 Byte 对齐，则少三位</p>
<p>(1B) TTL: 最多活 255 跳</p>
<p>(1B) Protocol: 传输层协议</p>
<p>(1B) Checksum: 所有半字的和的补码（加起来是零）</p>
<p>Option 基本不管了</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-12-15-35-55-image.png" /></p>
<h4 id="ip-地址">IP 地址</h4>
<p>The prefix is network address; the suffix is the host address.</p>
<p>Subnetting: 加长给的 prefix</p>
<p>CIDR-Classless InterDomain Routing 无类域间路由：</p>
<ul>
<li><p>路由聚合，即高层路由器的表项前缀变短</p></li>
<li><p>Longest matching prefix：聚合完了可以加项，这些前缀长的优先匹配</p></li>
</ul>
<p>Classful addressing</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-12-16-32-06-image.png" /></p>
<p>Special addresses:</p>
<p><code>127.*.*.*</code> 环回</p>
<p><code>0.0.0.0</code> This host</p>
<p><code>255.255.255.255</code> 广播</p>
<p><code>(Network)11...1</code> 某网络下的所有主机</p>
<p><code>224.0.0.0/24</code> 本地网络组播</p>
<h4 id="nat">NAT</h4>
<p>依赖 TCP/UDP 协议</p>
<p>三种内网 IP</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">10.0.0.0    - 10.255.255.255/8</span><br><span class="line">172.16.0.0  - 172.31.255.255/12</span><br><span class="line">192.168.0.0 - 192.168.255.255/16</span><br></pre></td></tr></table></figure>
<ul>
<li><p>Full Cone NAT：第一次使用建立映射 (IP:Port) <span class="math inline">\(\to\)</span> (IP:Port)，内发外外发内地址不变</p></li>
<li><p>Restricted Cone NAT：外网主机 S 按映射地址发内网主机 C 时，C 必须向 S 的 IP 发过包</p></li>
<li><p>Port Restricted Cone NAT：外网主机 S 按映射地址发内网主机 C 时，C 必须向 S 的 IP:Port 发过包</p></li>
<li><p>Symmetric NAT：外网主机与内网建立连接，NAT 都会创建新的 IP:Port，其他外网主机无法通过别的连接建立的 IP:Port 访问</p></li>
</ul>
<h3 id="ipv6">IPv6</h3>
<p>目标</p>
<ul>
<li><p>很多</p></li>
<li><p>减小路由表</p></li>
<li><p>简化，更快</p></li>
<li><p>安全</p></li>
<li><p>关注服务类型</p></li>
<li><p>辅助组播</p></li>
<li><p>漫游不换地址</p></li>
<li><p>给发展留空间</p></li>
<li><p>共存</p></li>
</ul>
<p><img src="/images/ComputerNetworkCourse/2022-02-12-21-03-19-image.png" /></p>
<p>流标签为零时不是虚电路，流标签和地址有关</p>
<p>Payload Length 不算 40 个字节的头</p>
<p>Next Header 是可选头的类型，若没有可选头就是下一个协议头</p>
<p>不分段，直接发现 MTU</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-12-22-35-15-image.png" /></p>
<p><img src="/images/ComputerNetworkCourse/2022-02-12-22-43-58-image.png" /></p>
<h3 id="icmp">ICMP</h3>
<p>它是包裹在 IP 里的</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-12-22-48-14-image.png" /></p>
<h3 id="arp">ARP</h3>
<p>Who has (Some IP)? Tell (Some IP);</p>
<p>(Some IP) is at (Some MAC).</p>
<p>缓存 ARP 表，ARP 表会超时，以允许动态</p>
<p>广播可以把自己的表也给你一份</p>
<p>ARP 别的网会问到网关的 MAC，这样就发给网关了</p>
<h3 id="dhcp">DHCP</h3>
<p>动态主机配置协议 Dynamic Host Configuration Protocol</p>
<p>需要 DHCP 服务器，路由器也支持</p>
<p>DISCOVER;</p>
<p>OFFER.</p>
<h3 id="mpls">MPLS</h3>
<p>多协议标签交换</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-12-23-21-38-image.png" /></p>
<p>可以多加很多层标签，这样按最外层路由，可以将多条路径合并节省</p>
<p>S 表示后面是不是还有标签</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-12-23-22-06-image.png" /></p>
<h3 id="ospf">OSPF</h3>
<p>Open Shortest Path First</p>
<p>域内路由算法（内部网关协议）（RIP 也是内部网关协议）：自治系统（AS）里的协议</p>
<p>如果有多条最短路，OSPF 会平均载荷</p>
<p>支持物理距离、延迟等距离尺度</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-12-23-50-35-image.png" /></p>
<p>一个区域内的最短路计算是一样的</p>
<p>边界路由器可以传递拓扑的摘要，如果边界只有一个路由器（stub 存根），不需要传递路由信息</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-12-23-54-10-image.png" /></p>
<h3 id="bgp">BGP</h3>
<p>Border Gateway Protocol</p>
<p>域间路由算法，解决政治、经济问题</p>
<p>是距离矢量协议</p>
<p>路由器通过 TCP 通信</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-13-00-02-12-image.png" /></p>
<p>所有 AS 从 AS1 买服务，AS2 3 间有对等传输</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-13-00-08-41-image.png" /></p>
<h3 id="igmp">IGMP</h3>
<p>组播</p>
<h3 id="mobile-ip">Mobile IP</h3>
<ul>
<li><p>Use home IP everywhere</p></li>
<li><p>No software changes</p></li>
<li><p>No router/table changes</p></li>
<li><p>Restrict detours</p></li>
<li><p>No overhead at home</p></li>
</ul>
<p>ARP 代理</p>
<p>gratuitous ARP</p>
<hr />
<h2 id="传输层">传输层</h2>
<p>主要工作：屏蔽子网差异；弥补应用层差异；提供进程级通信能力</p>
<p>传输实体：Kernel/so/proc，给应用层提供两种服务</p>
<p>单独的一层：位置不一样，主机，路由器。用户对网络层没有控制权</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-15-21-28-56-image.png" /></p>
<p>Segment: TPDU (Transport Protocol Data Unit)（想想为啥它也要 Seq）</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-15-22-24-10-image.png" /></p>
<p>Berkeley Socket 原语</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-16-11-37-22-image.png" /></p>
<p>NSAP(Network Service Access Point): IP</p>
<p>TSAP(Transport Service Access Point): Port</p>
<p>如何区分并拒绝重复的段：数据包存活上限 <span class="math inline">\(T\)</span>（120s for Internet），序号在 <span class="math inline">\(T\)</span> 内不被重用（划禁止区域），初始序号即（不同步的）计数器的低位，序号递增速率不得大于时间进度</p>
<p>三次握手（目的是让服务器区分连接请求是否确是当前的）</p>
<p>段也要时间戳，为了防止 32 位序号绕回（因为现在太快了）（序号需要随机以防被预测）</p>
<p>非对称释放：挂电话；对称释放：我不发了哦</p>
<p>四次挥手，因为要是对方决定好了要放开连接才放开连接，那就放不了了</p>
<p>挥手以及 ACK 超时都会释放连接</p>
<p>多路复用：多个连接过一个地址（路由器）；逆向多路复用：一个连接利用多个网络地址冲</p>
<h3 id="差错控制">差错控制</h3>
<p>链路层的差错控制可以避免整条路径重传</p>
<p>传输层差错控制可以防止路由器出错</p>
<p>BL 积非常大，窗口和缓冲要大，多连接：缓冲池</p>
<p>动态缓冲区分配，发送端告知要多少缓冲，接收端分配并告诉实际缓冲数量（Window size 字段）</p>
<p>窗口大小跟踪网络承载能力的变化，也可以达到拥塞控制</p>
<p>主机崩溃恢复只能由上层完成（A for ACK；W for write to process；C for crash）（S0 没有未完成的段但有确认，S1 没有确认）</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-16-16-34-21-image.png" /></p>
<h3 id="流量控制-1">流量控制</h3>
<p>流量分配</p>
<ul>
<li><p>最大最小公平：（所有的流从零开始增长）如果分配给一个流的带宽在不减少分配给另一个流带宽的前提下无法得到进一步增长，那么就不给这个流更多带宽</p></li>
<li><p>事实上模糊地按连接分配流量，所以电驴毒瘤</p></li>
</ul>
<p>XCP(eXplicit Congestion Protocol) 路由器告诉源速率，ECN 路由器告诉源减速，其他是测量并控制</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-16-20-15-45-image.png" /></p>
<p>关于丢包式检测：无线链路层毫秒级重传，传输层秒级</p>
<p>加法递增乘法递减：</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-16-17-28-53-image.png" /></p>
<h3 id="udp">UDP</h3>
<p>没有流量控制，差错控制或者重传；有多路复用</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-16-20-31-28-image.png" /></p>
<p>校验和包括的伪头如下（没有传输，算的时候按下面，实际上破坏分层）</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-16-20-32-21-image.png" /></p>
<p>远程过程调用（Remote Procedure Call）：不需要 Socket，客户端和服务器都有 Stub</p>
<p>实时传输协议 RTP（应用层上实现的传输协议）：UDP 实现（配合 RTCP 控制协议获得更多功能）</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-16-21-01-38-image.png" /></p>
<p>P：四字节对齐；X：扩展头；CC：有多少贡献源；M 应用解释（一般为标记开始）；Payload Type（MP3）；时间戳用于减少抖动</p>
<p>同步源标识符 (Synchronization source identifier) 指明了该数据包属于哪一个流</p>
<h3 id="tcp">TCP</h3>
<h4 id="头">头</h4>
<p><img src="/images/ComputerNetworkCourse/2022-02-16-21-22-36-image.png" /></p>
<p>一个 TCP 段最多 65535-20(IP)-20(TCP) = 65495 数据</p>
<p>TCP 给每个字节编了址，ACK number 是下一个期待的字节（累计确认）</p>
<p>标志位</p>
<ul>
<li><p>有 ECN 时，ECE（ECN-Echo）告诉发送端网络给了 ECN；CWR（Congestion Window Reduced）表示发送端已放缓</p></li>
<li><p>URG 是否使用紧急指针，紧急指针指向数据里紧急的那个部分（实际上不怎么用）</p></li>
<li><p>PSH 刷缓冲区</p></li>
<li><p>RST 被用于突然重置一个己经变得混乱的连接，或者拒绝连接</p></li>
<li><p>SYN/ACK=1/0 表示连接请求，SYN/ACK=1/1 表示连接接受</p></li>
<li><p>FIN 挥手</p></li>
</ul>
<p>校验和包括头、数据和 TCP 伪头（和 UDP 一样），校验是强制的</p>
<p>选项可以有的字段：</p>
<ul>
<li><p>最大段长 MSS</p></li>
<li><p>窗口尺度（可以将窗口大小左移最多 14 位）</p></li>
<li><p>时间戳（解决序号绕回）</p></li>
<li><p>SACK 已经接收到的段序号范围</p></li>
</ul>
<h4 id="连接">连接</h4>
<p><img src="/images/ComputerNetworkCourse/2022-02-16-21-55-31-image.png" /></p>
<p>右：如果同时发起连接，结果是建立了一个 (x, y) 的连接</p>
<p>SYN 泛洪解决方法：序号加密送出去，握手回来解密拿到序号</p>
<p>四次挥手 SYN 和 ACK 可能在同一个包，就变成了三次</p>
<p>TCP 连接是十一个状态的有限状态机</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-16-22-03-25-image.png" /></p>
<p><img src="/images/ComputerNetworkCourse/2022-02-16-22-10-15-image.png" /></p>
<h4 id="滑动窗口">滑动窗口</h4>
<p><img src="/images/ComputerNetworkCourse/2022-02-16-22-24-56-image.png" /></p>
<p>窗口探测：强制宣告下一个窗口大小</p>
<p>延迟确认：接收端最晚到缓冲区满才确认（延迟 50 ms 等搭车）</p>
<p>Nagle（避免发的全是小包）：发送端只发送第一次到达的数据，后面的缓冲起来（相当于停等）</p>
<p>Clark（低能窗口综合症，应用一次读一个，窗口就 1）：窗口更新在 空缓存<span class="math inline">\(=\min(\)</span> 一半，最大段长 <span class="math inline">\()\)</span> 时才发生</p>
<h4 id="计时器管理">计时器管理</h4>
<h5 id="重传计时器">重传计时器</h5>
<p>记录 <span class="math inline">\(SRTT\)</span> 平滑平均往返时间：<span class="math inline">\(SRTT=\alpha SRTT+(1-\alpha)RTT\)</span>，<span class="math inline">\(\alpha\)</span> 典型值 <span class="math inline">\(7/8\)</span></p>
<p><span class="math inline">\(RTTVAR\)</span> 是上述的均方差：<span class="math inline">\(RTTVAR=\beta RTTVAR + (1-\beta)|SRTT-RTT|\)</span> 典型值 <span class="math inline">\(3/4\)</span></p>
<p>重传超时 <span class="math inline">\(RTO=SRTT+4RTTVAR\)</span></p>
<p>第一次重传不更新估计值，接下来每一次连续重传超时加倍</p>
<h5 id="持续计时器">持续计时器</h5>
<p>发送端做窗口探测以免窗口更新丢了</p>
<h5 id="保活计时器">保活计时器</h5>
<p>连接没有活动时查看另一端是否存在（争议）</p>
<h5 id="连接终止计时器">连接终止计时器</h5>
<p>等待最大包存活时间的两倍</p>
<h4 id="拥塞控制-1">拥塞控制</h4>
<p>拥塞窗口（cnwd）：任何时候发送端可以向网络发送的字节数</p>
<p>确认时钟：ACK 包的速率代表了这个网络上最慢的链路的速度</p>
<p>慢启动：拥塞窗口初始值 4 个段，每 ACK 一个发出的包增加一个段的字节量（任何时候未确认的数据包的数量就是拥塞窗口的大小）</p>
<p>TCP Tahoe</p>
<ul>
<li><p>慢启动阈值：慢启动的上限，每当检测到丢包，慢启动阈值就设为拥塞窗口的一半，慢启动超过阈值之后就到线性增加（近似每个 RTT 增加一段，针对 cwnd/MSS 中每个可能被确认的包，增加 (MSS*MSS)/cnwd）</p></li>
<li><p>丢包：意味着拥塞窗口满，无法发包，等到重传可发再开始慢启动，阈值为拥塞窗口一半</p></li>
<li><p>重复确认：当丢失数据包的后续数据包到达接收端时，它们触发给发送端返回确认，这些确认段携带着相同的确认号（因为是累积确认）；TCP 假设三个确认意味着丢包了（快速重传）</p></li>
</ul>
<p>快速恢复（维持确认时钟避免重新慢速启动）：对重复确认计数直到网络内的数据包数量下降到新阈值，从此时往后，每接收到一个重复确认就发送一个新的数据包；一个 RTT 后丢的包被确认（就没有重复确认了），重新开始线性增加</p>
<h4 id="性能问题">性能问题</h4>
<ul>
<li><p>Performance problems in computer networks</p></li>
<li><p>Network performance measurement</p>
<ul>
<li>确保样值空间足够大，确保样值具有代表性，缓存可以破坏测量结果，确保测试期间不会发生不可知事情，小心使用粗粒度时钟，小心推断结果</li>
</ul></li>
<li><p>System design for better performance</p>
<ul>
<li>主机速度比网络速度更重要，减少包数量来降低开销，最小化数据复制（一起实现层），带宽能买延时不行，最小化上下文切换，避免拥塞比从中恢复更好，避免超时（重复）</li>
</ul></li>
<li><p>Fast TPDU processing</p>
<ul>
<li>Make common cases fast; TCP/IP 相邻段一般一样（存好）；计时轮（每个槽一个 Tick，指向一个触发的计时器列表）</li>
</ul></li>
<li><p>Protocols for high-speed networks</p>
<ul>
<li>序号回绕；大窗口；重传策略；延时瓶颈；简洁协议少计算</li>
</ul></li>
</ul>
<h4 id="delay-tolerant-networking">Delay Tolerant Networking</h4>
<p>处理间歇性的连接，按消息处理，存储转发</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-15-05-08-image.png" /></p>
<p>Custodian 托管标识符（路上的节点承担照看数据安全的责任）</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-15-06-38-image.png" /></p>
<hr />
<h2 id="应用层">应用层</h2>
<h3 id="dns">DNS</h3>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-15-42-15-image.png" /></p>
<p>记录格式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Domain name   Time to live    Class     Type     Value</span><br><span class="line">cs.mit.edu    86400           IN        CNAME    csail.mit.edu</span><br><span class="line">; Authoritative data for cs.vu.nl</span><br><span class="line">cs.vu.nl      86400           IN        SOA      star boss (9527,....)</span><br><span class="line">cs.vu.nl      86400           IN        MX       1 zephyr</span><br><span class="line">cs.vu.nl      86400           IN        MX       2 top</span><br><span class="line">cs.vu.nl      86400           IN        NS       star</span><br><span class="line">star          86400           IN        A        130.37.56.205</span><br><span class="line">zephyr        86400           IN        A        130.37.20.10</span><br><span class="line">top           86400           IN        A        130.37.20.11</span><br><span class="line">www           86400           IN        CNAME    star.cs.vu.nl</span><br><span class="line">ftp           86400           IN        CNAME    zephyr.cs.vu.nl</span><br><span class="line">rowboat                       IN        A        130.37.56.201</span><br><span class="line">                              IN        MX       1 rowboat</span><br><span class="line">                              IN        MX       2 zephyr</span><br></pre></td></tr></table></figure>
<p>IN：Internet</p>
<p>PTR 可用于反向查找（IP 查名字）</p>
<h4 id="域名解析">域名解析</h4>
<p>权威记录：管辖的服务器返回的结果（相对于缓存记录）</p>
<p>13 个根服务器 <code>a.root-servers.net</code> 到 <code>m.root-servers.net</code>，选播路由</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-16-11-23-image.png" /></p>
<p>递归查询：服务器全权帮你干完，给你返回最终结果</p>
<p>迭代查询：返回部分方案和下一个操作</p>
<h3 id="email">Email</h3>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-16-26-13-image.png" /></p>
<p>SMTP-&gt;SMTP-&gt;POP3/IMAP</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-16-38-50-image.png" /></p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-16-41-22-image.png" /></p>
<p>MIME：多媒体支持</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-19-23-26-image.png" /></p>
<p>五种传输编码和一个扩充入口：文本、8 位编码、二进制文件、base64、可打印编码</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-19-26-50-image.png" /></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">From: alice@cs.washington.edu</span><br><span class="line">To: bob@ee.uwa.edu.au</span><br><span class="line">MIME-Version: 1.0</span><br><span class="line">Message-Id: &lt;0704760941.AA00747@cs.washington.edu&gt;</span><br><span class="line">Content-Type: multipart/alternative; boundary=qwertyuiopasdfghjklzxcvbnm</span><br><span class="line">Subject: Earth orbits sun integral number of times</span><br><span class="line"></span><br><span class="line">This is the preamble. The user agent ignores it. Have a nice day.</span><br><span class="line"></span><br><span class="line">--qwertyuiopasdfghjklzxcvbnm</span><br><span class="line">Content-Type: text/html</span><br><span class="line"></span><br><span class="line">&lt;p&gt;Happy birthday to you&lt;br&gt;</span><br><span class="line">Happy birthday to you&lt;br&gt;</span><br><span class="line">Happy birthday dear &lt;b&gt; Bob &lt;/b&gt;&lt;br&gt; Happy birthday to you&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">--qwertyuiopasdfghjklzxcvbnm</span><br><span class="line">Content-Type: message/external-body;</span><br><span class="line">    access-type=&quot;anon-ftp&quot;;</span><br><span class="line">    site=&quot;bicycle.cs.washington.edu&quot;;</span><br><span class="line">    directory=&quot;pub&quot;;</span><br><span class="line">    name=&quot;birthday.snd&quot;</span><br><span class="line"></span><br><span class="line">content-type: audio/basic</span><br><span class="line">content-transfer-encoding: base64</span><br><span class="line">--qwertyuiopasdfghjklzxcvbnm--</span><br></pre></td></tr></table></figure>
<p>SMTP (Simple Mail Transfer Protocol) 端口 25，纯 ASCII 协议，不包括认证，明文传输；4 个单词的命令（<code>HELO</code>, <code>MAIL FROM</code>, <code>RCPT TO</code>, <code>DATA</code>）</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-19-43-29-image.png" /></p>
<p>IMAP (Internet Message Access Protocol) 端口 143</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-19-47-14-image.png" /></p>
<p>POP3 (Post Office Protocol) 端口 110</p>
<h3 id="www">WWW</h3>
<p>URL (Uniform Resourse Locator); URI (Uniform Resourse Identifier)</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-19-51-35-image.png" /></p>
<p>Cookie 最多 4KB</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-20-09-11-image.png" /></p>
<p>动态页面</p>
<ul>
<li><p>公共网关接口 (CGI, Common Gateway Interface)：后端程序到 Web 服务器的接口</p></li>
<li><p>PHP <code>&lt;?php echo $name; ?&gt;</code>; JSP; ASP.NET</p></li>
<li><p>JS; VBScript</p></li>
</ul>
<p>HTTP</p>
<ul>
<li><p>HTTP1.1 持续连接（一次连接多次请求、流水请求）</p></li>
<li><p>ASCII 协议</p></li>
</ul>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-20-26-33-image.png" /></p>
<p>每个响应都有状态码</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-20-28-27-image.png" /></p>
<p>消息头 (Cookie; Set-Cookie ...)</p>
<p>缓存</p>
<ul>
<li><p>Check expiry</p></li>
<li><p>Conditional GET (If-Modified-Since; Etag; If-None-Match)</p></li>
<li><p>Not modified / Responce</p></li>
</ul>
<p>移动 Web (XHTML)</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-20-36-50-image.png" /></p>
<h3 id="流媒体">流媒体</h3>
<p>量化 CD: 44100 / 16 bit / 1.4 Mbps stereo</p>
<p>编码 AAC 96k 128kbps；</p>
<ul>
<li><p>波形编码：FFT 后传未被截止的频率</p></li>
<li><p>感知编码：利用频率屏蔽</p></li>
</ul>
<p>JPEG</p>
<ol type="1">
<li><p>块准备（YCbCr 三个矩阵各切成 8x8）</p></li>
<li><p>离散余弦变换</p></li>
<li><p>量化（除权值）</p></li>
<li><p>差分量化</p></li>
<li><p>行程编码（蛇皮发送顺序）</p></li>
<li><p>静态输出编码（霍夫曼编码）</p></li>
</ol>
<p>MPEG</p>
<ul>
<li><p>I 帧内编码</p></li>
<li><p>P 前向（I）帧</p></li>
<li><p>B 前后向（IP）帧</p></li>
</ul>
<p>视频</p>
<ul>
<li><p>前向纠错（发校验，组播路由大家丢不一样）</p></li>
<li><p>交替传输（一个包只传奇数帧，掉个帧罢了）</p></li>
<li><p>缓冲</p></li>
</ul>
<p>实时会议 H.323（可以电话拨入）</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-21-19-03-image.png" /></p>
<p>建立 5 条逻辑信道：呼叫信令（Q.931）；呼叫控制（H.245）；“双工”数据（两条RTP）；数据控制（RTCP）</p>
<p>IP 语音 SIP</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-21-39-51-image.png" /></p>
<h3 id="content-delivery">Content Delivery</h3>
<p>Zipf 分布</p>
<p>服务器农场（DNS/负载均衡）</p>
<p>Web 代理（缓存）</p>
<p>CDN</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-21-50-34-image.png" /></p>
<p>P2P</p>
<p>Overlay networks</p>
<p>BitTorrent</p>
<p>Torrent（种子）：跟踪器的名称、块清单（和哈希）</p>
<p>Tracker：上传下载该内容的用户列表</p>
<p>DHT 分布式哈希表（Cord 方案）节点保留少量其他节点信息</p>
<p>逻辑上 Key 是 <code>hash(Torrent)</code>，Value 是 IP</p>
<p>标识符构成一个环，有可能代表实际节点</p>
<p><code>successor(k)</code> 是 k 之后第一个实际节点的标识符，key 和 k 在同一个空间做映射</p>
<p>朴素找：向 successor 发 query，沿着环走，找到了返回给请求者</p>
<p>指取表（倍增找）：每个节点一张，Key 是 0-(m-1)（m 是实际节点数）；标识符 k 的第 i 项是 <code>start=(k+(1&lt;&lt;i))%(1&lt;&lt;m)</code> 和 <code>successor(start[i])</code> 的 IP</p>
<hr />
<h2 id="网安">网安</h2>
<h3 id="密码学">密码学</h3>
<p>密码分析学：唯密文/已知明文（有一些明文密文对）/选择明文（可以由明文生成密文）</p>
<p>密码编码学：努力在选择明文保持安全</p>
<p><span class="math display">\[
D_K(E_K(P))=P
\]</span></p>
<p>Kerckhoff 原则：保密性仅取决于对密钥的保密，而算法是公开的。密钥作为算法参数</p>
<p>置换密码：做置换</p>
<p>替代密码：按行排，然后按列按列顺序写</p>
<p>一次性密钥：xor</p>
<p>量子密钥</p>
<p>密码学原则：冗余度、新鲜度</p>
<h3 id="对称密钥">对称密钥</h3>
<p>加密解密是一个密钥</p>
<p>DES</p>
<p><img src="/images/ComputerNetworkCourse/2022-02-17-22-55-37-image.png" /></p>
<p>三重 DES，K1 加密 K2 解密 K1 加密</p>
<p>AES</p>
<p>密码长度和块长度 128-128 / 128-256</p>
<p>生成 11 个轮密钥干牛b事情</p>
<h3 id="公钥算法">公钥算法</h3>
<ul>
<li><p><span class="math inline">\(D(E(P))=P\)</span></p></li>
<li><p>从 E 推导 D 极其困难</p></li>
<li><p>E 不会被选择明文破解</p></li>
</ul>
<p>加密公钥，解密私钥</p>
<p>RSA</p>
<ul>
<li><p>选大素数 <span class="math inline">\(p\)</span>，<span class="math inline">\(q\)</span></p></li>
<li><p>计算 <span class="math inline">\(n=pq\)</span>，<span class="math inline">\(z=(p-1)(q-1)\)</span></p></li>
<li><p>找一个与 <span class="math inline">\(z\)</span> 互质的 <span class="math inline">\(d\)</span></p></li>
<li><p>找到 <span class="math inline">\(e\)</span> 使 <span class="math inline">\(ed=1\mod z\)</span></p></li>
</ul>
<p>加密：<span class="math inline">\(C=P^e\mod n\)</span>，解密 <span class="math inline">\(P=C^d\mod n\)</span></p>
<h3 id="数字签名">数字签名</h3>
<ul>
<li><p>接收方可验证</p></li>
<li><p>发送方无法否认</p></li>
<li><p>接收方无法编造</p></li>
</ul>
<p>对称密钥：Big Brother</p>
<p>非对称：要求 <span class="math inline">\(E(D(P))=P\)</span>；主要问题是 Alice 可以公开私钥</p>
<h3 id="消息摘要">消息摘要</h3>
<p>认证但不需要保密</p>
<p>SHA</p>
<p>MD5（8 行了）</p>
<h3 id="证书">证书</h3>
<p>安全地分发公钥</p>
<p>证书证明某个公钥属于某人，这个证书附带一个签名块（证书的 SHA 被私钥签名）</p>
<p>X.509 证书</p>
<p>PKI 信任链</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/" rel="tag"># 课程笔记</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/12/22/zh-CN/Git-%E7%BB%9F%E8%AE%A1%E4%BB%A3%E7%A0%81%E8%A1%8C%E6%95%B0/" rel="prev" title="Git 统计代码行数">
      <i class="fa fa-chevron-left"></i> Git 统计代码行数
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/02/27/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E8%83%8C%E8%AF%B5%E7%AC%94%E8%AE%B0/" rel="next" title="计算机组成原理背诵笔记">
      计算机组成原理背诵笔记 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%80%E6%82%9F"><span class="nav-number">1.</span> <span class="nav-text">开悟</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E7%B1%BB"><span class="nav-number">1.1.</span> <span class="nav-text">分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E5%B1%82%E6%A8%A1%E5%9E%8B"><span class="nav-number">1.2.</span> <span class="nav-text">分层模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1"><span class="nav-number">1.3.</span> <span class="nav-text">服务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#standardization"><span class="nav-number">1.4.</span> <span class="nav-text">Standardization</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#internet-architecture"><span class="nav-number">1.5.</span> <span class="nav-text">Internet Architecture</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%89%A9%E7%90%86%E5%B1%82"><span class="nav-number">2.</span> <span class="nav-text">物理层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%82%85%E7%AB%8B%E5%8F%B6%E5%88%86%E6%9E%90"><span class="nav-number">2.1.</span> <span class="nav-text">傅立叶分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#nyquist-%E9%87%87%E6%A0%B7%E5%AE%9A%E7%90%86"><span class="nav-number">2.2.</span> <span class="nav-text">Nyquist 采样定理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shanon-%E5%AE%9A%E7%90%86"><span class="nav-number">2.3.</span> <span class="nav-text">Shanon 定理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8B%E8%B4%A8"><span class="nav-number">2.4.</span> <span class="nav-text">介质</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E5%AD%97%E8%B0%83%E5%88%B6"><span class="nav-number">2.5.</span> <span class="nav-text">数字调制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E5%B8%A6%E4%BC%A0%E8%BE%93"><span class="nav-number">2.6.</span> <span class="nav-text">通带传输</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%A1%E9%81%93%E5%A4%8D%E7%94%A8"><span class="nav-number">2.7.</span> <span class="nav-text">信道复用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%B5%E8%AF%9D%E4%BA%A4%E6%8D%A2%E7%BD%91"><span class="nav-number">2.8.</span> <span class="nav-text">电话交换网</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%A4%E6%8D%A2"><span class="nav-number">2.9.</span> <span class="nav-text">交换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%9C%82%E7%AA%9D%E7%BD%91%E7%BB%9C"><span class="nav-number">2.10.</span> <span class="nav-text">蜂窝网络</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="nav-number">3.</span> <span class="nav-text">数据链路层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%88%90%E5%B8%A7"><span class="nav-number">3.1.</span> <span class="nav-text">成帧</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E6%8E%A7%E5%88%B6"><span class="nav-number">3.2.</span> <span class="nav-text">错误控制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E7%BA%A0%E9%94%99"><span class="nav-number">3.2.1.</span> <span class="nav-text">自动纠错</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#hamming-code"><span class="nav-number">3.2.1.1.</span> <span class="nav-text">Hamming Code</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A3%80%E9%94%99%E5%8F%8D%E9%A6%88%E9%87%8D%E5%8F%91"><span class="nav-number">3.2.2.</span> <span class="nav-text">检错反馈重发</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#crc"><span class="nav-number">3.2.2.1.</span> <span class="nav-text">CRC</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6"><span class="nav-number">3.3.</span> <span class="nav-text">流量控制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#utopian"><span class="nav-number">3.3.1.</span> <span class="nav-text">Utopian</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%97%A0%E9%94%99%E4%BF%A1%E9%81%93%E4%B8%8B%E7%9A%84%E5%8D%95%E5%B7%A5%E5%81%9C%E7%AD%89%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.3.2.</span> <span class="nav-text">无错信道下的单工停等协议</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%89%E9%94%99%E4%BF%A1%E9%81%93%E4%B8%8B%E7%9A%84%E5%8D%95%E5%B7%A5%E5%81%9C%E7%AD%89%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.3.3.</span> <span class="nav-text">有错信道下的单工停等协议</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%89%E9%94%99%E4%BF%A1%E9%81%93%E4%B8%8B%E7%9A%84%E5%8F%8C%E5%B7%A5%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.3.4.</span> <span class="nav-text">有错信道下的双工协议</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E5%8D%8F%E8%AE%AE"><span class="nav-number">3.3.4.1.</span> <span class="nav-text">滑动窗口协议</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8D%9F%E5%9D%8F%E5%B8%A7%E5%A4%84%E7%90%86"><span class="nav-number">3.3.4.2.</span> <span class="nav-text">损坏帧处理</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E5%8D%8F%E8%AE%AE%E4%BE%8B%E5%AD%90"><span class="nav-number">3.4.</span> <span class="nav-text">数据链路层协议例子</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#sonet"><span class="nav-number">3.4.1.</span> <span class="nav-text">SONET</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#asdl"><span class="nav-number">3.4.2.</span> <span class="nav-text">ASDL</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E5%AD%90%E5%B1%82"><span class="nav-number">4.</span> <span class="nav-text">介质访问控制子层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#aloha"><span class="nav-number">4.1.</span> <span class="nav-text">ALOHA</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#csma"><span class="nav-number">4.2.</span> <span class="nav-text">CSMA</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#csma-cd"><span class="nav-number">4.3.</span> <span class="nav-text">CSMA-CD</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#limited-contention-protocols"><span class="nav-number">4.4.</span> <span class="nav-text">Limited-Contention Protocols</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#wireless-lan-protocols"><span class="nav-number">4.5.</span> <span class="nav-text">Wireless LAN Protocols</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ethernet"><span class="nav-number">5.</span> <span class="nav-text">Ethernet</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#classic-ethernet"><span class="nav-number">5.1.</span> <span class="nav-text">Classic Ethernet</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#physical-layer"><span class="nav-number">5.1.1.</span> <span class="nav-text">Physical Layer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#mac-sublayer"><span class="nav-number">5.1.2.</span> <span class="nav-text">MAC Sublayer</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B8%A7%E6%A0%BC%E5%BC%8F"><span class="nav-number">5.1.2.1.</span> <span class="nav-text">帧格式</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#csma-cd-1"><span class="nav-number">5.1.2.2.</span> <span class="nav-text">CSMA-CD</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%A4%E6%8D%A2%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="nav-number">5.2.</span> <span class="nav-text">交换以太网</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%AB%E9%80%9F%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="nav-number">5.3.</span> <span class="nav-text">快速以太网</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%83%E5%85%86%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="nav-number">5.4.</span> <span class="nav-text">千兆以太网</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%87%E5%85%86"><span class="nav-number">5.5.</span> <span class="nav-text">万兆</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C"><span class="nav-number">6.</span> <span class="nav-text">无线网络</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#section"><span class="nav-number">6.1.</span> <span class="nav-text">802.11</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#physical-layer-1"><span class="nav-number">6.1.1.</span> <span class="nav-text">Physical Layer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#mac-sublayer-1"><span class="nav-number">6.1.2.</span> <span class="nav-text">MAC Sublayer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%A7%E6%A0%BC%E5%BC%8F-1"><span class="nav-number">6.1.3.</span> <span class="nav-text">802.11 帧格式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#broadband-wireless"><span class="nav-number">6.2.</span> <span class="nav-text">802.16 Broadband Wireless</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#physical"><span class="nav-number">6.2.1.</span> <span class="nav-text">Physical</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#mac"><span class="nav-number">6.2.2.</span> <span class="nav-text">MAC</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bluetooth"><span class="nav-number">6.3.</span> <span class="nav-text">Bluetooth</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rfid"><span class="nav-number">6.4.</span> <span class="nav-text">RFID</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#physical-layer-2"><span class="nav-number">6.5.</span> <span class="nav-text">Physical layer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tag-identification-layer"><span class="nav-number">6.6.</span> <span class="nav-text">Tag Identification Layer</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E5%B1%82%E4%BA%A4%E6%8D%A2"><span class="nav-number">7.</span> <span class="nav-text">二层交换</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%A6%E4%B9%A0%E7%BD%91%E6%A1%A5"><span class="nav-number">7.1.</span> <span class="nav-text">学习网桥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%9F%E6%88%90%E6%A0%91%E7%BD%91%E6%A1%A5"><span class="nav-number">7.2.</span> <span class="nav-text">生成树网桥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vlan"><span class="nav-number">7.3.</span> <span class="nav-text">VLAN</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="nav-number">8.</span> <span class="nav-text">网络层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%A2%E5%90%91%E8%BF%9E%E6%8E%A5%E5%AE%9E%E7%8E%B0"><span class="nav-number">8.1.</span> <span class="nav-text">面向连接实现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95"><span class="nav-number">8.2.</span> <span class="nav-text">路由算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="nav-number">8.3.</span> <span class="nav-text">拥塞控制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E8%B4%A8%E9%87%8F"><span class="nav-number">8.4.</span> <span class="nav-text">服务质量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%92%E8%81%94%E7%BD%91%E7%BB%9C"><span class="nav-number">8.5.</span> <span class="nav-text">互联网络</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%8C%85%E5%88%86%E6%AE%B5"><span class="nav-number">8.5.1.</span> <span class="nav-text">数据包分段</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ipv4"><span class="nav-number">8.6.</span> <span class="nav-text">IPv4</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ip-%E5%A4%B4"><span class="nav-number">8.6.1.</span> <span class="nav-text">IP 头</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ip-%E5%9C%B0%E5%9D%80"><span class="nav-number">8.6.2.</span> <span class="nav-text">IP 地址</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#nat"><span class="nav-number">8.6.3.</span> <span class="nav-text">NAT</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ipv6"><span class="nav-number">8.7.</span> <span class="nav-text">IPv6</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#icmp"><span class="nav-number">8.8.</span> <span class="nav-text">ICMP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#arp"><span class="nav-number">8.9.</span> <span class="nav-text">ARP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dhcp"><span class="nav-number">8.10.</span> <span class="nav-text">DHCP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mpls"><span class="nav-number">8.11.</span> <span class="nav-text">MPLS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ospf"><span class="nav-number">8.12.</span> <span class="nav-text">OSPF</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bgp"><span class="nav-number">8.13.</span> <span class="nav-text">BGP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#igmp"><span class="nav-number">8.14.</span> <span class="nav-text">IGMP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mobile-ip"><span class="nav-number">8.15.</span> <span class="nav-text">Mobile IP</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="nav-number">9.</span> <span class="nav-text">传输层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%AE%E9%94%99%E6%8E%A7%E5%88%B6"><span class="nav-number">9.1.</span> <span class="nav-text">差错控制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6-1"><span class="nav-number">9.2.</span> <span class="nav-text">流量控制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#udp"><span class="nav-number">9.3.</span> <span class="nav-text">UDP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tcp"><span class="nav-number">9.4.</span> <span class="nav-text">TCP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%B4"><span class="nav-number">9.4.1.</span> <span class="nav-text">头</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5"><span class="nav-number">9.4.2.</span> <span class="nav-text">连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3"><span class="nav-number">9.4.3.</span> <span class="nav-text">滑动窗口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%A1%E6%97%B6%E5%99%A8%E7%AE%A1%E7%90%86"><span class="nav-number">9.4.4.</span> <span class="nav-text">计时器管理</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%87%8D%E4%BC%A0%E8%AE%A1%E6%97%B6%E5%99%A8"><span class="nav-number">9.4.4.1.</span> <span class="nav-text">重传计时器</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8C%81%E7%BB%AD%E8%AE%A1%E6%97%B6%E5%99%A8"><span class="nav-number">9.4.4.2.</span> <span class="nav-text">持续计时器</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BF%9D%E6%B4%BB%E8%AE%A1%E6%97%B6%E5%99%A8"><span class="nav-number">9.4.4.3.</span> <span class="nav-text">保活计时器</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BF%9E%E6%8E%A5%E7%BB%88%E6%AD%A2%E8%AE%A1%E6%97%B6%E5%99%A8"><span class="nav-number">9.4.4.4.</span> <span class="nav-text">连接终止计时器</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6-1"><span class="nav-number">9.4.5.</span> <span class="nav-text">拥塞控制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98"><span class="nav-number">9.4.6.</span> <span class="nav-text">性能问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#delay-tolerant-networking"><span class="nav-number">9.4.7.</span> <span class="nav-text">Delay Tolerant Networking</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82"><span class="nav-number">10.</span> <span class="nav-text">应用层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#dns"><span class="nav-number">10.1.</span> <span class="nav-text">DNS</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90"><span class="nav-number">10.1.1.</span> <span class="nav-text">域名解析</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#email"><span class="nav-number">10.2.</span> <span class="nav-text">Email</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#www"><span class="nav-number">10.3.</span> <span class="nav-text">WWW</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%81%E5%AA%92%E4%BD%93"><span class="nav-number">10.4.</span> <span class="nav-text">流媒体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#content-delivery"><span class="nav-number">10.5.</span> <span class="nav-text">Content Delivery</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E5%AE%89"><span class="nav-number">11.</span> <span class="nav-text">网安</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%86%E7%A0%81%E5%AD%A6"><span class="nav-number">11.1.</span> <span class="nav-text">密码学</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E7%A7%B0%E5%AF%86%E9%92%A5"><span class="nav-number">11.2.</span> <span class="nav-text">对称密钥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%AC%E9%92%A5%E7%AE%97%E6%B3%95"><span class="nav-number">11.3.</span> <span class="nav-text">公钥算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D"><span class="nav-number">11.4.</span> <span class="nav-text">数字签名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B6%88%E6%81%AF%E6%91%98%E8%A6%81"><span class="nav-number">11.5.</span> <span class="nav-text">消息摘要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%81%E4%B9%A6"><span class="nav-number">11.6.</span> <span class="nav-text">证书</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Junyang Zhang"
      src="/images/CasualPortraitOct2021.png">
  <p class="site-author-name" itemprop="name">Junyang Zhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">20</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/James-Hen" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;James-Hen" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:james-hen@outlook.com" title="E-Mail → mailto:james-hen@outlook.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://bytew.net/" title="https:&#x2F;&#x2F;bytew.net&#x2F;" rel="noopener" target="_blank">Nocriz</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://thelajiest.github.io/" title="https:&#x2F;&#x2F;thelajiest.github.io&#x2F;" rel="noopener" target="_blank">KON_automaton</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://blog.mky.moe/" title="https:&#x2F;&#x2F;blog.mky.moe&#x2F;" rel="noopener" target="_blank">MonKey</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://blog.ccandle.top/" title="https:&#x2F;&#x2F;blog.ccandle.top&#x2F;" rel="noopener" target="_blank">CCandle</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://120.79.138.174:8080/" title="http:&#x2F;&#x2F;120.79.138.174:8080&#x2F;" rel="noopener" target="_blank">siyuanluo</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://yang-d19.github.io/" title="https:&#x2F;&#x2F;yang-d19.github.io&#x2F;" rel="noopener" target="_blank">Yangd19</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        
  <div class="languages">
    <label class="lang-select-label">
      <i class="fa fa-language"></i>
      <span>简体中文</span>
      <i class="fa fa-angle-up" aria-hidden="true"></i>
    </label>
    <select class="lang-select" data-canonical="">
      
        <option value="zh-CN" data-href="/2022/02/27/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%83%8C%E8%AF%B5%E7%AC%94%E8%AE%B0/" selected="">
          简体中文
        </option>
      
        <option value="en" data-href="/en/2022/02/27/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%83%8C%E8%AF%B5%E7%AC%94%E8%AE%B0/" selected="">
          English
        </option>
      
    </select>
  </div>

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Junyang Zhang</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>













<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'hA0Uyzupz2vdCpNOIC0MCJjT-gzGzoHsz',
      appKey     : 'dpOcFMwzmsVPyQPECkBb9TUP',
      placeholder: "Just comment!",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
