<!DOCTYPE html>
<html lang="zh-CN,en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/Avatar.jpg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.gif">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.gif">
  <link rel="mask-icon" href="/images/favicon-32x32.gif" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jyzhang.xyz","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="前言（考试前） 开始复习 CVPR 的时候 CVPR 大佬，你交校友孙剑博士去世了，RIP。以后无论水平高低出身贵贱，都得先养好身体。 这门课的老师是苏远歧老师，由于之前在 UPenn 带同一门课所以基本可以算高端课程的减负版（但是相比之下还是作业很多笑死），想要上课学本事的非常建议选！ 前言（考试后） 快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑vvvvvv">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机视觉与模式识别">
<meta property="og:url" content="http://jyzhang.xyz/2022/06/17/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89%E4%B8%8E%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/index.html">
<meta property="og:site_name" content="Junyang Zhang&#39;s Blog">
<meta property="og:description" content="前言（考试前） 开始复习 CVPR 的时候 CVPR 大佬，你交校友孙剑博士去世了，RIP。以后无论水平高低出身贵贱，都得先养好身体。 这门课的老师是苏远歧老师，由于之前在 UPenn 带同一门课所以基本可以算高端课程的减负版（但是相比之下还是作业很多笑死），想要上课学本事的非常建议选！ 前言（考试后） 快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑vvvvvv">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://jyzhang.xyz/2022/06/17/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89%E4%B8%8E%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/EpipolarGeo.png">
<meta property="article:published_time" content="2022-06-17T03:31:10.000Z">
<meta property="article:modified_time" content="2022-07-02T07:13:37.043Z">
<meta property="article:author" content="Junyang Zhang">
<meta property="article:tag" content="课程笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://jyzhang.xyz/2022/06/17/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89%E4%B8%8E%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/EpipolarGeo.png">

<link rel="canonical" href="http://jyzhang.xyz/2022/06/17/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89%E4%B8%8E%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>计算机视觉与模式识别 | Junyang Zhang's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Junyang Zhang's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jyzhang.xyz/2022/06/17/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89%E4%B8%8E%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/CasualPortraitOct2021.png">
      <meta itemprop="name" content="Junyang Zhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Junyang Zhang's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          计算机视觉与模式识别
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-17 11:31:10" itemprop="dateCreated datePublished" datetime="2022-06-17T11:31:10+08:00">2022-06-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-02 15:13:37" itemprop="dateModified" datetime="2022-07-02T15:13:37+08:00">2022-07-02</time>
              </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2022/06/17/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89%E4%B8%8E%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/06/17/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89%E4%B8%8E%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="前言考试前"><del>前言（考试前）</del></h2>
<p>开始复习 CVPR 的时候 CVPR
大佬，你交校友孙剑博士去世了，RIP。以后无论水平高低出身贵贱，都得先养好身体。</p>
<p>这门课的老师是苏远歧老师，由于之前在 UPenn
带同一门课所以基本可以算高端课程的减负版（但是相比之下还是作业很多<del>笑死</del>），想要上课学本事的非常建议选！</p>
<h2 id="前言考试后"><del>前言（考试后）</del></h2>
<p><strong>快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑快跑vvvvvv</strong></p>
<h2 id="前言出分了">前言（出分了）</h2>
<p>竟然意外地不错。</p>
<p>看来老师 Norm 了（笑）。</p>
<h2 id="符号版式说明">符号版式说明</h2>
<p>考虑到排版规范和编写便利性、可读性，后文的符号版式说明如下</p>
<ol type="1">
<li>矩阵是斜体大写字母 <span class="math inline">\(A,B,C,R,H_{3\times
3},P,I_3,\cdots\)</span></li>
<li>集合也是斜体大写字母，但是用的不多，上下文判断吧</li>
<li>向量是粗体小写字母 <span class="math inline">\(\boldsymbol
{x},\boldsymbol {v},\boldsymbol {d},\cdots\)</span></li>
<li>标量是斜体小写字母 <span
class="math inline">\(a,b,c,x,y,z,u,v,w,\cdots\)</span></li>
<li>向量展开可以写成如 <span class="math inline">\((x,y,z,1)^T\)</span>
的元组形式，也可以写成矩阵形式 <span
class="math inline">\(\begin{bmatrix}x &amp;y &amp;
z\end{bmatrix}^T\)</span></li>
<li>矩阵乘法写成 <span class="math inline">\(AB\)</span>、<span
class="math inline">\(A\boldsymbol x\)</span>、<span
class="math inline">\(\boldsymbol{y}^T\boldsymbol{x}\)</span>
等，向量点乘写作 <span class="math inline">\(\boldsymbol{y}\cdot
\boldsymbol{x}\)</span></li>
<li><span
class="math inline">\(A^{-T}=(A^{-1})^T\)</span>，即逆的转置</li>
</ol>
<h2 id="数学知识">数学知识</h2>
<p>三维向量的叉积 <span class="math inline">\(\boldsymbol v=\boldsymbol
{v_1}\times \boldsymbol {v_2}\)</span>
垂直（点乘为零）于两个向量，长度为正弦，方向符合右手法则；设 <span
class="math inline">\(\boldsymbol{\hat\imath},\boldsymbol{\hat\jmath},\boldsymbol{\hat
k}\)</span> 为正交基、计算如下： <span class="math display">\[
\begin{aligned}
\boldsymbol v=\boldsymbol {v_1}\times \boldsymbol {v_2}
&amp; =
(x,y,z)^T\times(u,v,w)^T \\
&amp; =
\begin{vmatrix}
\boldsymbol{\hat\imath} &amp; \boldsymbol{\hat\jmath}
&amp;\boldsymbol{\hat k} \\
x &amp; y &amp; z \\
u &amp; v &amp; w
\end{vmatrix} \\
&amp; =
[v_\times]\boldsymbol{v_2}\\
&amp; =
\begin{bmatrix}
0 &amp; -z &amp; y \\
z &amp; 0 &amp; -x \\
-y &amp; x &amp; 0
\end{bmatrix}
\boldsymbol {v_2}
\end{aligned}
\]</span> 其中 <span class="math inline">\([v_\times]\)</span> 为 <span
class="math inline">\(\boldsymbol {v_1}\)</span>
的叉积矩阵，是反对称矩阵，它把叉积运算转换为矩阵乘法运算方便推导</p>
<p>QR 分解即 <span class="math inline">\(A=QR\)</span>，将矩阵 <span
class="math inline">\(A\)</span> 分解为上三角矩阵 <span
class="math inline">\(R\)</span> 和正交矩阵 <span
class="math inline">\(Q\)</span>（<span
class="math inline">\(Q^T=Q^{-1}\)</span>）</p>
<p>矩阵导数参照表（<span class="math inline">\(\boldsymbol x\)</span>
为列向量，且其导数与其同形状）：</p>
<table>
<colgroup>
<col style="width: 42%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="header">
<th><span class="math inline">\(L\)</span></th>
<th><span class="math inline">\(\dfrac{\partial L}{\partial \boldsymbol
x}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\boldsymbol x^T A \boldsymbol
x\)</span></td>
<td><span class="math inline">\(\boldsymbol x^T(A+A^T)\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\boldsymbol a^T\boldsymbol
x\)</span></td>
<td><span class="math inline">\(\boldsymbol a\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\boldsymbol x^T \boldsymbol
a\)</span></td>
<td><span class="math inline">\(\boldsymbol a^T\)</span></td>
</tr>
</tbody>
</table>
<p>SVD 分解（奇异值分解）即 <span
class="math inline">\(A=USV^T\)</span>，设 <span
class="math inline">\(A_{m\times n}\)</span> 的秩为 <span
class="math inline">\(r\)</span>，有 <span
class="math inline">\(U_{m\times m}\)</span> 为正交矩阵，<span
class="math inline">\(S_{m\times n}\)</span> 为有 <span
class="math inline">\(r\)</span> 个非零值（奇异值 <span
class="math inline">\(\sigma_i\)</span>）的对角矩阵，<span
class="math inline">\(V_{n\times n}\)</span> 为正交矩阵</p>
<p>最小二乘问题 <span class="math inline">\(\|A\boldsymbol
x\|^2\)</span></p>
<ul>
<li>伪逆解法：<span class="math inline">\(\boldsymbol
x=(A^TA)^{-1}A^T\boldsymbol b\)</span></li>
<li>SVD 解法：设 <span class="math inline">\(A\)</span> 的 SVD 分解
<span class="math inline">\(A=USV^T\)</span>，则 <span
class="math inline">\(V\)</span> 的最后一列“最可能”是一个零解</li>
</ul>
<h2 id="基础知识">基础知识</h2>
<p>由于考试不考默写，所以懂就行了，比如图像是正则化网格点上的离散函数
<span class="math inline">\(I(x,y)\)</span>
啦，分辨率、位深、图像种类啦，认识就行。</p>
<h2 id="相机模型和应用">相机模型和应用</h2>
<h3 id="小孔成像模型和摄像机内参">小孔成像模型和摄像机内参</h3>
<p><strong>光心</strong>（<strong>摄像机中心</strong>）是小孔，作为原点；<strong>投影平面</strong>（成像平面）在原点的
<span class="math inline">\(Z\)</span>
轴正方向（<strong>主方向</strong>）处，垂直于 <span
class="math inline">\(Z\)</span>
轴（<strong>主轴</strong>）；<strong>主平面</strong>过光心平行于投影平面，<strong>主点</strong>是是主轴和投影平面的交点</p>
<ul>
<li>摄像机坐标到像平面坐标 <span
class="math inline">\((x,y,z)\to(u_{CCD},v_{CCD})=(x\cdot f_m/z, y\cdot
f_m/z)\)</span></li>
<li>像平面坐标到像素坐标 <span
class="math inline">\((u_{CCD},v_{CCD})\to(u_{img}, v_{img})=(x\cdot
f_x/z+p_x, y\cdot f_y/z+p_y)\)</span></li>
</ul>
<p>对于像素坐标中像素计量的焦距 <span
class="math inline">\(f_x\)</span>，有 <span
class="math inline">\(f_x=f_m\cdot w_{img}/w_{CCD}\)</span>；<span
class="math inline">\(f_y\)</span> 同理</p>
<p>齐次坐标 <span
class="math inline">\(\lambda(x,y,1),\lambda&gt;0\)</span>：投影方向的射线，透视空间中的点</p>
<p>摄像机坐标（测度空间）到像素齐次坐标（透视空间）的透视投影变换 <span
class="math display">\[
\lambda \begin{bmatrix} u_{img} \\ v_{img} \\ 1 \end{bmatrix}
=
\begin{bmatrix}
f_x &amp; &amp; p_x \\
&amp; f_y &amp; p_y \\
&amp; &amp; 1
\end{bmatrix}
\begin{bmatrix}x \\ y \\ z\end{bmatrix}
\triangleq
K\boldsymbol x
\]</span> 其中 <span class="math inline">\(K\)</span> 为内参矩阵</p>
<p>径向畸变模型：假设归一化的像平面坐标 <span
class="math inline">\(\boldsymbol{\bar u_{undistorted}}=K^{-1}
u\)</span>（即测度空间坐标）到主点到距离 <span
class="math inline">\(\rho=\|\boldsymbol {\bar
u_{undistorted}}\|\)</span>，那么畸变后的对应坐标满足 <span
class="math display">\[
\begin{cases}
\boldsymbol{\bar u_{distorted}} = L(\rho) \boldsymbol{\bar
u_{undistorted}} \\
L(\rho) = 1 + k_1 \rho^2 + k_2 \rho^4 + \cdots
\end{cases}
\]</span></p>
<h3 id="世界坐标和摄像机外参">世界坐标和摄像机外参</h3>
<p>世界坐标 <span class="math inline">\(\boldsymbol
{x_W}=(x,y,z)^T\)</span> 到摄像机坐标 <span
class="math inline">\(\boldsymbol{x_C}=(u,v,w)^T\)</span> 的旋转矩阵
<span class="math inline">\({^CR_W}\)</span> 定义如下 <span
class="math display">\[
\boldsymbol{x_C}=\begin{bmatrix}
{r_x}_1 &amp; {r_x}_2 &amp; {r_x}_3 \\
{r_y}_1 &amp; {r_y}_2 &amp; {r_y}_3 \\
{r_z}_1 &amp; {r_z}_2 &amp; {r_z}_3 \\
\end{bmatrix}
\boldsymbol {x_W}
=\begin{bmatrix}
\boldsymbol{r_x} \\
\boldsymbol{r_y} \\
\boldsymbol{r_z} \\
\end{bmatrix}
\boldsymbol {x_W}
\triangleq
{^CR_W}\boldsymbol {x_W}
\]</span> 旋转矩阵只有三个自由度 <span class="math inline">\({^CR_W}\in
SO(3)\)</span>；旋转矩阵是正交矩阵，<span
class="math inline">\({^CR_W}^T{^CR_W}=I_3\)</span>；旋转矩阵的每一行是世界坐标看摄像机坐标的坐标轴方向，每一列是摄像机坐标看世界坐标的坐标轴方向</p>
<p>摄像机在世界坐标内的平移 <span
class="math inline">\(\boldsymbol{^Ct}\)</span>：摄像机坐标看世界坐标原点到摄像坐标原点的位移
<span class="math display">\[
\boldsymbol{x_C}=
{^CR_W}\boldsymbol {x_W}+\boldsymbol{^Ct}=
\begin{bmatrix}
{r_x}_1 &amp; {r_x}_2 &amp; {r_x}_3 &amp; t_x \\
{r_y}_1 &amp; {r_y}_2 &amp; {r_y}_3 &amp; t_y \\
{r_z}_1 &amp; {r_z}_2 &amp; {r_z}_3 &amp; t_z \\
\end{bmatrix}
\begin{bmatrix}
\boldsymbol {x_W} \\
1
\end{bmatrix}
=
\begin{bmatrix}
{^CR_W} &amp; \boldsymbol{^Ct}
\end{bmatrix}
\begin{bmatrix}
\boldsymbol {x_W} \\
1
\end{bmatrix}
\]</span> 透视投影矩阵 <span
class="math inline">\(P=K\begin{bmatrix}{^CR_W} &amp;
\boldsymbol{^Ct}\end{bmatrix}\)</span></p>
<h3 id="摄像机标定">摄像机标定</h3>
<blockquote>
<p>摄像机标定的任务是通过图像，获得摄像机的内参和对应各图像的外参</p>
</blockquote>
<h4 id="齐次几何">齐次几何</h4>
<p>二维空间中，齐次坐标点表示为 <span class="math inline">\(\boldsymbol
p = (u,v,1)^T\)</span></p>
<ul>
<li>二维空间中的直线齐次坐标表示 <span class="math inline">\(\boldsymbol
l^T\boldsymbol p=0\)</span>，其中 <span
class="math inline">\(\boldsymbol l = (a,b,c)^T\)</span>，<span
class="math inline">\(\boldsymbol l \in SO(2)\)</span> 是齐次的</li>
<li>过两点 <span class="math inline">\(\boldsymbol {p_1}\)</span>，<span
class="math inline">\(\boldsymbol {p_2}\)</span> 的直线有 <span
class="math inline">\(\boldsymbol l=\boldsymbol {p_1}\times \boldsymbol
{p_2}\)</span>（因为 <span class="math inline">\(\boldsymbol {p_1}\times
\boldsymbol {p_2}\perp \boldsymbol {p_1}\wedge \boldsymbol {p_1}\times
\boldsymbol {p_2}\perp \boldsymbol {p_2}\)</span>）</li>
<li>两直线 <span class="math inline">\(\boldsymbol {l_1}\)</span>，<span
class="math inline">\(\boldsymbol {l_2}\)</span> 的交点是 <span
class="math inline">\(\boldsymbol l=\boldsymbol {l_1}\times \boldsymbol
{l_2}\)</span></li>
</ul>
<p>三维空间中，齐次坐标点表示为 <span class="math inline">\(\boldsymbol
p = \lambda(x,y,z,1)^T=(x&#39;,y&#39;,z&#39;,w)^T\)</span></p>
<ul>
<li>三维空间的线 <span class="math inline">\(\boldsymbol p=\boldsymbol
{p_1}+k(\boldsymbol {p_2}-\boldsymbol {p_1})\)</span></li>
<li>三维空间的平面 <span class="math inline">\(\boldsymbol\pi \cdot
\boldsymbol p=0\)</span>，其中 <span
class="math inline">\(\boldsymbol\pi=(a,b,c,d)^T\)</span>，法向量为
<span class="math inline">\((a,b,c)^T\)</span></li>
<li>三维齐次坐标无穷远点表示为 <span class="math inline">\(x&#39;\neq0
\vee y&#39;\neq 0 \vee z&#39;\neq 0\)</span> 且 <span
class="math inline">\(w=0\)</span>，相当于平行线交点</li>
</ul>
<h4 id="消失点解旋转矩阵">消失点解旋转矩阵</h4>
<p>对世界坐标系中三个特殊无穷远点（三个轴方向的无穷远点），可以列三个方程解出旋转矩阵</p>
<p>设透视投影矩阵 <span class="math display">\[
P=K\begin{bmatrix}{^CR_W} &amp;
\boldsymbol{^Ct}\end{bmatrix}=\begin{bmatrix}
p_{11} &amp; p_{12} &amp; p_{13} &amp; p_{14} \\
p_{21} &amp; p_{22} &amp; p_{23} &amp; p_{24} \\
p_{31} &amp; p_{32} &amp; p_{33} &amp; p_{34} \\
\end{bmatrix}
\]</span></p>
<p>假设三个特殊无穷远点经透视投影后的透视空间坐标为 <span
class="math inline">\(\boldsymbol{p_{X\infty}}\)</span>，<span
class="math inline">\(\boldsymbol{p_{Y\infty}}\)</span>，<span
class="math inline">\(\boldsymbol{p_{Z\infty}}\)</span> <span
class="math display">\[
\begin{aligned}
\boldsymbol{p_{X\infty}}&amp;=
\lambda\begin{bmatrix}{u_x}\\{v_x}\\1\end{bmatrix}
=
\begin{bmatrix}
p_{11} &amp; p_{12} &amp; p_{13} &amp; p_{14} \\
p_{21} &amp; p_{22} &amp; p_{23} &amp; p_{24} \\
p_{31} &amp; p_{32} &amp; p_{33} &amp; p_{34} \\
\end{bmatrix}
\begin{bmatrix}
\infty\\
0\\
0\\
1
\end{bmatrix}
\\
&amp;\Longrightarrow
\begin{cases}
u_x=\displaystyle\lim_{X\to\infty}\dfrac{p_{11}X+p_{14}}{p_{31}X+p_{34}}=\dfrac{p_{11}}
{p_{31}}\\
v_x=\displaystyle\lim_{X\to\infty}\dfrac{p_{21}X+p_{24}}{p_{31}X+p_{34}}=\dfrac{p_{21}}
{p_{31}}\\
\end{cases}
\\
&amp;\Longrightarrow
\lambda\begin{bmatrix}{u_x}\\{v_x}\\1\end{bmatrix}=\begin{bmatrix}p_{11}\\p_{21}\\p_{31}\end{bmatrix}
\end{aligned}
\]</span> 则通过三个消失点解得 <span
class="math inline">\(p_{11},p_{21},p_{31},p_{12},p_{22},p_{32},p_{13},p_{23},p_{33}\)</span>，再结合已知的内参矩阵解得旋转矩阵</p>
<h4 id="单应矩阵">单应矩阵</h4>
<p>世界坐标的一个平面，可表示为平面上的点满足 <span
class="math display">\[
\boldsymbol v=v_1\boldsymbol b_1+v_2\boldsymbol b_2+\boldsymbol
c=\begin{bmatrix}\boldsymbol b_1 &amp;\boldsymbol b_2 &amp;\boldsymbol
c\end{bmatrix}
\begin{bmatrix}
v_1\\ v_2\\ 1
\end{bmatrix}
\]</span> 假设在世界坐标系里 <span class="math inline">\(\boldsymbol
{b_1}=\boldsymbol {\hat\imath}\)</span>，<span
class="math inline">\(\boldsymbol {b_1}=\boldsymbol
{\hat\jmath}\)</span>，<span class="math inline">\(\boldsymbol
c=\boldsymbol 0\)</span> 那么上述式子可以表示世界坐标的 XY 平面</p>
<p>将世界坐标平面投影到像素空间的单应矩阵 <span
class="math inline">\(H\in SO(8)\)</span>，<span
class="math inline">\((u_x,u_y,1)^T=H(v_x,v_y,1)^T\)</span> <span
class="math display">\[
H=
K\begin{bmatrix}R\boldsymbol b_1 &amp; R\boldsymbol b_2 &amp;
R\boldsymbol c+\boldsymbol{t}\end{bmatrix}
=
\begin{bmatrix}
h_{11} &amp; h_{12} &amp; h_{13} \\
h_{21} &amp; h_{22} &amp; h_{23} \\
h_{31} &amp; h_{32} &amp; h_{33} \\
\end{bmatrix}
\]</span> 对于一张图像，有图像上的像素点 <span
class="math inline">\(u_x,u_y\)</span>，设定的平面点 <span
class="math inline">\(v_x,v_y\)</span> 可列出 <span
class="math display">\[
\begin{aligned}
&amp;\begin{cases}
u_x = \dfrac{h_{11}v_x+h_{12}v_y+h_{13}}{h_{31}v_x+h_{32}v_y+h_{33}}\\
u_y = \dfrac{h_{21}v_x+h_{22}v_y+h_{23}}{h_{31}v_x+h_{32}v_y+h_{33}}\\
\end{cases}
\\
&amp;\Longrightarrow
\\
&amp;\begin{bmatrix}
v_x &amp; v_y &amp; 1 &amp; &amp; &amp; -v_xu_x &amp; -v_yu_x &amp;
-u_x\\
&amp; &amp; &amp; v_x v_y &amp; 1 &amp; -v_xu_y &amp; -v_yu_y &amp;
-u_y\\
\end{bmatrix}
\begin{bmatrix}
h_{11} \\ h_{12} \\ h_{13} \\
h_{21} \\ h_{22} \\ h_{23} \\
h_{31} \\ h_{32} \\ h_{33} \\
\end{bmatrix}
=0
\end{aligned}
\]</span> 四个点即可解出 Homography（假设其中一个值为一即可），且若
<span class="math inline">\(\boldsymbol v\)</span> 位于 XY 平面（Z
分量为零），有 <span class="math display">\[
H=K\begin{bmatrix}
{r_x}_1 &amp; {r_x}_2 &amp; t_x \\
{r_y}_1 &amp; {r_y}_2 &amp; t_y \\
{r_z}_1 &amp; {r_z}_2 &amp; t_z \\
\end{bmatrix}
\]</span> 对 <span class="math inline">\(H\)</span> 进行 Givens
分解可得到一个上三角矩阵 <span class="math inline">\(K\)</span>
和正交旋转矩阵 <span class="math inline">\(R\)</span> 的估计</p>
<h4 id="张正友标定">张正友标定</h4>
<p>此节的 <span class="math inline">\(h_1,h_2,h_3,r_1,r_2,t\)</span>
都是向量，忽略了粗体</p>
<p>以标定版为世界坐标，已知单应矩阵 <span
class="math inline">\(H=\begin{bmatrix}h_1 &amp; h_2 &amp;
h_3\end{bmatrix}\)</span>，且有 <span
class="math inline">\(H=K\begin{bmatrix}r_1 &amp;r_2 &amp;
t\end{bmatrix}\)</span>，有 <span class="math display">\[
K^{-1}\begin{bmatrix}h_1 &amp; h_2 &amp;
h_3\end{bmatrix}=\begin{bmatrix}r_1 &amp; r_2 &amp; t\end{bmatrix}
\Longrightarrow
\begin{cases}
r_1=K^{-1} h_1\\
r_2=K^{-1}h_2\\
t=K^{-1}h_3
\end{cases}
\]</span> 由于 <span class="math inline">\(r_1,r_2\)</span> 是旋转矩，有
<span class="math inline">\(r_1^Tr_2=0\)</span>，<span
class="math inline">\(\|r_1\|=\|r_2\|\)</span>，得 <span
class="math display">\[
\begin{cases}
h_1^TK^{-T}K^{-1}h_2=0\\
h_1^TK^{-T}K^{-1}h_1=h_1^TK^{-T}K^{-1}h_1
\end{cases}
\]</span> <span class="math inline">\(K^{-T}K^{-1}\)</span> 未知，记为
<span class="math display">\[
B=
\begin{bmatrix}
b_1 &amp; &amp; b_2 \\
&amp; b_1 &amp; b_3 \\
b_2 &amp; b_3 &amp; b_4
\end{bmatrix}
=K^{-T}K^{-1} =
\begin{bmatrix}
1/f &amp; &amp; \\
&amp; 1/f &amp; \\
-p_x/f &amp; -p_y/f &amp; 1
\end{bmatrix}
\begin{bmatrix}
1/f &amp; &amp;  -p_x/f\\
&amp; 1/f &amp; -p_y/f \\
&amp;  &amp; 1
\end{bmatrix}
\]</span> 将满足的条件 <span class="math inline">\(h_1^TBh_2=0\)</span>
展开并区分未知量，可以列出 <span class="math display">\[
\begin{bmatrix}
h_{11}h_{12}+h_{21}h_{22} &amp; h_{11}h_{32}+ h_{31}h_{12} &amp;
h_{21}h_{32}+h_{31}h_{22} &amp; h_{31}h_{32}\\
\end{bmatrix}
\begin{bmatrix}
b_1 \\ b_2 \\ b_3 \\ b_4
\end{bmatrix}=0
\]</span> 将满足的条件 <span
class="math inline">\(h_1^TBh_1=h_2^TBh_2\)</span>
展开并区分未知量，可以列出 <span class="math display">\[
\begin{bmatrix}
h_{11}^2-h_{12}^2+h_{21}^2-h_{22}^2 &amp; 2(h_{11}h_{31}-h_{12}h_{32})
&amp; 2(h_{21}h_{31}-h_{22}h_{32}) &amp; h_{31}^2-h_{32}^2
\end{bmatrix}
\begin{bmatrix}
b_1 \\ b_2 \\ b_3 \\ b_4
\end{bmatrix}=0
\]</span> 每幅图像可以得到上述两个方程，两幅图像即可求得 <span
class="math inline">\(B\)</span>，进而得到内参矩阵 <span
class="math inline">\(K\)</span>；获得内参后可求得 <span
class="math inline">\(r_1,r_2,t\)</span>，用 <span
class="math inline">\(\|K^{-1}h_1\|\)</span>
除，归一化得旋转矩阵和平移向量</p>
<h3 id="三角化">三角化</h3>
<blockquote>
<p>三角化点任务是通过两个或多个已经标定的摄像机，求三维空间中一个点的坐标</p>
</blockquote>
给定透视投影矩阵 <span class="math inline">\(P_{Alice}\)</span>，<span
class="math inline">\(P_{Bob}\)</span>，给定世界坐标中一点 <span
class="math inline">\(\boldsymbol x\)</span>，给定该点的两个投影 <span
class="math inline">\(\boldsymbol u\)</span>，<span
class="math inline">\(\boldsymbol v\)</span>，有 $$
<span class="math display">\[\begin{bmatrix}
u_x \\ u_y \\ 1
\end{bmatrix}\]</span>
=P_{Bob}
<span class="math display">\[\begin{bmatrix}
x \\ y \\ z \\ 1
\end{bmatrix}\]</span>
=
<span class="math display">\[\begin{bmatrix}
\boldsymbol p_{Bob}^{1T} \\
\boldsymbol p_{Bob}^{2T} \\
\boldsymbol p_{Bob}^{3T} \\
\end{bmatrix}
\begin{bmatrix}
x \\ y \\ z \\ 1
\end{bmatrix}
\Longrightarrow\]</span>
<span class="math display">\[\begin{bmatrix}
\boldsymbol p_{Bob}^{1T} - u_x \boldsymbol p_{Bob}^{3T} \\
\boldsymbol p_{Bob}^{2T} - u_y \boldsymbol p_{Bob}^{3T} \\
\end{bmatrix}
\begin{bmatrix}
x \\ y \\ z \\ 1
\end{bmatrix}\]</span>
<p>= $$ 再用 Alice 的透视投影矩阵即可获得点的世界坐标</p>
<h3 id="单视测量">单视测量</h3>
<blockquote>
<p>单视测量的任务是通过一张图片和先验知识，获得图像中的线段对应的实际距离</p>
</blockquote>
<p><strong>交比</strong>是透视投影前后不变的性质：对一条线段上的四个顺序点
<span class="math inline">\(A,B,C,D\)</span>，有 <span
class="math display">\[
\frac{\overline{AC}}{\overline{BC}}\cdot
\frac{\overline{BD}}{\overline{AD}}
\]</span> 在透视投影变换后不变</p>
<p>单视测量的基本流程是：找参照长度，找消失点，连平行线，找另一个消失点，连线得到四个点，用无穷远和参照长度代入计算</p>
<h3 id="双视几何">双视几何</h3>
<blockquote>
<p>双视几何的任务是获得两个拍摄者的相对位置（又叫对极几何）</p>
</blockquote>
<p>Bob 的光心 <span class="math inline">\(\boldsymbol {c_{Bob}}\)</span>
在 Alice 图像平面的投影 <span class="math inline">\(\boldsymbol
{e_{Alice}}\)</span> 称为 Alice
的<strong>极点</strong>（Epipole）。给定世界坐标的一个点 <span
class="math inline">\(\boldsymbol x\)</span>，对应 Bob 图像中的一个点
<span class="math inline">\(\boldsymbol u\)</span>，在 Alice
的图像中对应一条线称为<strong>极线</strong> <span
class="math inline">\(\boldsymbol {l_u}\)</span>；同理有 Alice
图像中的点 <span class="math inline">\(\boldsymbol v\)</span> 和 Bob
的极线 <span class="math inline">\(\boldsymbol{l_{v}}\)</span></p>
<p><img src="EpipolarGeo.png" alt="EpipolarGeo.png" style="zoom: 33%;" /></p>
<p>设世界坐标和 Bob 的相机坐标相同，Bob 的透视投影矩阵 <span
class="math inline">\(P_B=K\begin{bmatrix}I_{3\times3} &amp; \boldsymbol
0\end{bmatrix}\)</span>，Alice 的透视投影矩阵 <span
class="math inline">\(P_A=K\begin{bmatrix}R &amp; \boldsymbol
t\end{bmatrix}\)</span>，则</p>
<ol type="1">
<li>Bob 的光心世界坐标 <span class="math inline">\(\boldsymbol
{c_{Bob}}=\boldsymbol 0\)</span></li>
<li>Alice 的光心世界坐标 <span class="math inline">\(\boldsymbol
{c_{Alice}}=-R^T\boldsymbol t\)</span></li>
<li>Alice 的极点 <span class="math inline">\(\boldsymbol
{e_{Alice}}=KP_A\begin{bmatrix}\boldsymbol{c_{Bob}} \\
1\end{bmatrix}=\boldsymbol Kt\)</span>（在 Alice 相机坐标）</li>
<li>Bob 的极点 <span class="math inline">\(\boldsymbol
{e_{Bob}}=KP_B\begin{bmatrix}\boldsymbol{c_{Alice}} \\
1\end{bmatrix}=-KR^T\boldsymbol t\)</span>（在 Bob 相机坐标）</li>
</ol>
<p><strong>基础矩阵</strong> <span class="math inline">\(F\)</span> 满足
<span class="math inline">\(\boldsymbol v^TF\boldsymbol
u=0\)</span>；下面推导基础矩阵如何用上述未知外参表示</p>
<ul>
<li>世界坐标上，Bob 的极点方向射线 <span class="math inline">\(\lambda
K^{-1}\boldsymbol {e_{Bob}}=\lambda_1R^T \boldsymbol t\)</span></li>
<li>在世界坐标上，Alice 的 <span class="math inline">\(\boldsymbol
v\)</span> 方向射线 <span class="math inline">\(-R^T\boldsymbol
t+\lambda_2R^TK^{-1}\boldsymbol v\)</span></li>
</ul>
<p>上述的两条射线位于同一个平面<strong>极平面</strong>，那么极平面的法线
<span class="math inline">\(\boldsymbol n\)</span> 满足 <span
class="math display">\[
\begin{aligned}
\boldsymbol n
&amp;=
(R^T \boldsymbol t)\times(-R^T\boldsymbol
t+\lambda_2R^TK^{-1}\boldsymbol v)
\\
&amp;=
\lambda_2 (R^T \boldsymbol t)\times( R^TK^{-1}\boldsymbol v)
\\
&amp;\equiv (R^T \boldsymbol t)\times (R^TK^{-1}\boldsymbol v)
\\&amp;=
R^T (\boldsymbol t\times K^{-1}\boldsymbol v)
\\&amp;=
R^T [t_\times] K^{-1}\boldsymbol v
\end{aligned}
\]</span> Bob 的极线 <span
class="math inline">\(\boldsymbol{l_v}=K^{-T}\boldsymbol n=K^{-T}R^T
[t_\times] K^{-1}\boldsymbol v\)</span></p>
<p>由于对极几何约束，<span class="math inline">\(\boldsymbol u\)</span>
在 Bob 的极线上，那么 <span class="math display">\[
\begin{aligned}
&amp;\boldsymbol u^T\boldsymbol {l_v}=0
\\&amp;\Longrightarrow
\boldsymbol u^TK^{-T}(R^T [t_\times] )K^{-1}\boldsymbol v = 0
\\&amp;\Longrightarrow
\boldsymbol v^TK^{-T}(-[t_\times]R)K^{-1}\boldsymbol u = 0
\\&amp;\Longrightarrow
\boldsymbol v^TK^{-T}[t_\times]RK^{-1}\boldsymbol u = 0
\\&amp;\Longrightarrow
F=K^{-T}[t_\times]RK^{-1}
\end{aligned}
\]</span> 由于 <span class="math inline">\(\boldsymbol v^TF\boldsymbol
u=0\)</span>，则在两个图像中找出八个点对，即可列出关于 <span
class="math inline">\(F\)</span> 的八个方程，求解得基础矩阵的值</p>
<p>基础矩阵的性质：</p>
<ul>
<li>基础矩阵的转置对应了 Alice，Bob 互换</li>
<li>极线方程 <span class="math inline">\(\boldsymbol {l_u}=F\boldsymbol
u\)</span>，<span class="math inline">\(\boldsymbol {l_v}=F^T\boldsymbol
v\)</span></li>
<li>极点方程 <span class="math inline">\(F\boldsymbol
{e_{Bob}}=0\)</span>，<span class="math inline">\(F^T\boldsymbol
{e_{Alice}}=0\)</span></li>
</ul>
<p><strong>本质矩阵</strong>即世界坐标上两个投影点的关系矩阵，<span
class="math inline">\(E=[t_\times]R=K^TFK\)</span></p>
<p>下面通过本质矩阵求 <span
class="math inline">\(R,t\)</span>。对反对称矩阵分解可得 <span
class="math display">\[
[t_{\times}]=U\begin{bmatrix}
0 &amp; 1 &amp; 0 \\
-1 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0
\end{bmatrix}U^T
\]</span> 其中 <span class="math inline">\(U\)</span> 是正交矩阵，定义
<span class="math inline">\(R=UWV^T\)</span> 那么 <span
class="math display">\[
E=U\begin{bmatrix}
0 &amp; 1 &amp; 0 \\
-1 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0
\end{bmatrix}U^TUWV^T
=
U\begin{bmatrix}
0 &amp; 1 &amp; 0 \\
-1 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 0
\end{bmatrix}WV^T
\]</span> 又有 <span class="math inline">\(E\)</span> 的 SVD 分解（因为
<span class="math inline">\(R\in SO(3)\)</span>，<span
class="math inline">\(\mathrm
{rank}(R)=2\)</span>，且易证线性变换尺度不变） <span
class="math display">\[
E=U\begin{bmatrix}
1 &amp; 0 &amp; 0\\
0 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 0
\end{bmatrix}V^T
\]</span> 那么 <span class="math inline">\(W\)</span> 有两种可能取值
<span class="math display">\[
W=
\begin{cases}
\begin{bmatrix}
0 &amp; 1 &amp; 0 \\
-1 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 1
\end{bmatrix}
\\
\begin{bmatrix}
0 &amp; -1 &amp; 0 \\
1 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 1
\end{bmatrix}
\end{cases}
\]</span> 终于，因为可以对 <span class="math inline">\(E\)</span> 使用
SVD 分解获得 <span class="math inline">\(U\)</span> 和 <span
class="math inline">\(V\)</span>，那么将 <span
class="math inline">\(W\)</span> 的两种值代入即可获得 <span
class="math inline">\(R\)</span> 的两种可能值</p>
<p>设 <span class="math inline">\(U=\begin{bmatrix}\boldsymbol {u_1}
&amp;\boldsymbol {u_2} &amp;\boldsymbol {u_3}\end{bmatrix}\)</span>，有
<span class="math inline">\(\boldsymbol t=\pm \boldsymbol
{u_{3}}\)</span>（证明似乎很复杂）</p>
<p>那么，<span class="math inline">\(R\)</span> 和 <span
class="math inline">\(\boldsymbol t\)</span>
均有两个取值，共四个取值都需要被验证一下，其中三个都无法使图像内包含同一个点的投影</p>
<h2 id="数字图像处理">数字图像处理</h2>
<h3 id="几何变换">几何变换</h3>
<p>给定输入图像 <span class="math inline">\(I\)</span> 上的点 <span
class="math inline">\((x,y)\)</span>，输出图像 <span
class="math inline">\(O\)</span> 的对应点 <span
class="math inline">\((x&#39;,y&#39;)\)</span>，有 <span
class="math inline">\(I(x,y)=O(x&#39;,y&#39;)\)</span>，几何变换 <span
class="math inline">\(G:R^2\to R^2\)</span> 是它们之间的映射 <span
class="math inline">\(G(x,y)=(x&#39;,y&#39;)\)</span></p>
<p>原图像绕 <span class="math inline">\((x_0,y_0)\)</span> 逆时针旋转
<span class="math inline">\(\theta\)</span> 角度 <span
class="math display">\[
\begin{bmatrix}
x&#39;\\y&#39;
\end{bmatrix}
=\begin{bmatrix}
\cos \theta &amp; -\sin\theta \\
\sin\theta &amp; \cos\theta
\end{bmatrix}
\left(
\begin{bmatrix}
x\\y
\end{bmatrix}
-\begin{bmatrix}
x_0\\y_0
\end{bmatrix}
\right)
+\begin{bmatrix}
x_0\\y_0
\end{bmatrix}
\]</span> 离散点上实施变换的方法：</p>
<ul>
<li>前向变换（不好）：遍历输入图像的点，应用映射，绘制对应输出图像的点</li>
<li>后向变换（好）：遍历输出图像的点，应用逆映射，得到原图像中的像素值</li>
</ul>
<p>后向变换的插值：最近邻、双线性、双三次</p>
<p>双线性插值：找四个近邻点画框，分为四个方形，每个角落的权值为对面方形的面积</p>
<p>通过对应点对求解仿射变换 <span class="math inline">\(\boldsymbol
u=A_{2\times 2}\boldsymbol v+\boldsymbol
b\)</span>：共六个参数，三个点对最小二乘即可</p>
<h3 id="灰度变换">灰度变换</h3>
<p><span class="math inline">\(O(x,y)=T(I(x,y))\)</span>，其中 <span
class="math inline">\(T\)</span>
为灰度变换，和位置无关；常用查找表实现</p>
<p>给定连续的灰度变换函数 <span
class="math inline">\(t=T(s)\)</span>，针对灰度区间 <span
class="math inline">\([s_1,s_2]\)</span></p>
<ul>
<li>如果 <span
class="math inline">\(|T(s_2)-T(s_1)|&gt;|s_2-s_2|\)</span>，则该区间的灰度等级被扩展</li>
<li>如果 <span
class="math inline">\(|T(s_2)-T(s_1)|&lt;|s_2-s_2|\)</span>，则该区间的灰度等级被压缩</li>
</ul>
<p>幂律变换 <span class="math inline">\(t=s^{\gamma}\)</span>（<span
class="math inline">\(s\in[0,1]\)</span>），<span
class="math inline">\(\gamma\)</span>
大于一时变暗，小于一时类似对数变换；CRT 显示器自带一个 <span
class="math inline">\(\gamma\approx 2.2\)</span>
的幂律变换，所以要应用一个 <span
class="math inline">\(\gamma=1/2.2\)</span> 的伽马校正</p>
<p>灰度直方图 <span class="math inline">\(p_s=\dfrac{n_s}{\sum_s
n_s}\)</span>，其中 <span class="math inline">\(n_s\)</span> 是值为
<span class="math inline">\(s\)</span> 的像素出现的频次</p>
<p>直方图均衡：</p>
<ol type="1">
<li>求 CDF <span class="math inline">\(c_s=\sum_{i=0}^{s}
p_i\)</span></li>
<li>灰度变换函数 <span class="math inline">\(t=T(s)=Round((\max
-\min)\times c_s+\min)\)</span></li>
</ol>
<h3 id="空间滤波">空间滤波</h3>
<p>模版运算：给定输入图像 <span class="math inline">\(I(x,y)\)</span>
定义在 <span class="math inline">\(X\times Y\)</span> 大小的空间，<span
class="math inline">\(f(x,y)\)</span> 定义在 <span
class="math inline">\((2m+1)\times (2n+1)\)</span> 大小的空间 <span
class="math display">\[
O(x,y)=\sum_{a=-m} ^{m}\sum_{b=-n}^n I(x+a,y+b)f(a,b)
\]</span> 输出尺寸：</p>
<ul>
<li>全尺寸 <span class="math inline">\((X+2m)\times(Y+2n)\)</span></li>
<li>同等尺寸 <span class="math inline">\(X\times Y\)</span></li>
<li>有效尺寸 <span
class="math inline">\((X-2m)\times(Y-2n)\)</span></li>
</ul>
<p>常用 Padding：0、拷贝、反射、循环</p>
<p>数学上的二维卷积即模版上下左右翻转</p>
<p>模版运算的性质</p>
<ul>
<li>可加性 <span class="math inline">\(f\otimes (h_1+h_2)=f\otimes h_1 +
f\otimes h_2\)</span></li>
<li>线性 <span class="math inline">\(f\otimes (kh)=k(f\otimes
h)\)</span></li>
<li>可交换性 <span class="math inline">\(f\otimes h = h\otimes
f\)</span>，注意输出尺寸</li>
</ul>
<p>高斯模板 <span
class="math inline">\(\exp\left(-\dfrac{x^2+y^2}{2\sigma^2}\right)\)</span></p>
<p>Sobel 算子 <span
class="math inline">\(\begin{bmatrix}-1&amp;0&amp;1\end{bmatrix}\)</span>
和 <span
class="math inline">\(\begin{bmatrix}-1&amp;0&amp;1\end{bmatrix}^T\)</span></p>
<h3 id="频域变换">频域变换</h3>
<h4 id="dft">DFT</h4>
<p>离散傅里叶变换 DFT 的形式 <span class="math display">\[
F(x,y)=\sum_{u=1}^X\sum_{v=1}^Y I(u,v)
\exp\left(-2\pi \jmath \frac{(u-1)(x-1)}{X}\right)
\exp\left(-2\pi \jmath \frac{(v-1)(y-1)}{Y}\right)
\]</span> 逆变换的形式 <span class="math display">\[
I(u,v)=
\frac{1}{XY}
\sum_{x=1}^X\sum_{y=1}^Y F(x,y)
\exp\left(-2\pi \jmath \frac{(u-1)(x-1)}{X}\right)
\exp\left(-2\pi \jmath \frac{(v-1)(y-1)}{Y}\right)
\]</span> DFT
一般把变换完的图像，四个象限各自内外反转，来把低频放在中间</p>
<h4 id="dct">DCT</h4>
<p>离散余弦变换 DCT 的形式 <span class="math display">\[
F(u,v)=
\alpha_u\alpha_v
\sum_{x=1}^{X-1}\sum_{y=1}^{Y-1} I(x,y)
\cos\left(\frac{\pi(2x+1)u}{2X}\right)
\cos\left(\frac{\pi(2y+1)v}{2Y}\right)
\]</span> 逆变换的形式 <span class="math display">\[
I(u,v)=
\sum_{x=1}^{X-1}\sum_{y=1}^{Y-1} \alpha_u\alpha_v F(x,y)
\cos\left(-\frac{\pi(2x+1)u}{2X}\right)
\cos\left(-\frac{\pi(2y+1)v}{2Y}\right)
\]</span> 其中 <span class="math display">\[
\begin{aligned}
\alpha_u&amp;=\begin{cases}
1/\sqrt{X}, &amp;u=0 \\
\sqrt{2}/\sqrt{X}, &amp; 1\le u\le X-1
\end{cases}
\\
\alpha_v&amp;=\begin{cases}
1/\sqrt{Y}, &amp;v=0 \\
\sqrt{2}/\sqrt{Y}, &amp; 1\le v\le Y-1
\end{cases}
\end{aligned}
\]</span> DCT 的解释：每个像素是一个权重图像逐点乘整个图像</p>
<p>DCT 计算分离：可以先对 Y 轴 DCT 再对 X 轴 DCT</p>
<p>矩阵计算 DCT：</p>
<ul>
<li>构造矩阵 <span class="math inline">\(A\)</span> 满足 <span
class="math inline">\(A_{ij}=\alpha_i\cos(\pi(2j+1)i/(2Y))\)</span></li>
<li>构造矩阵 <span class="math inline">\(A&#39;\)</span> 满足 <span
class="math inline">\(A_{ij}=\alpha_j\cos(\pi(2i+1)j/(2X))\)</span></li>
<li>那么有 <span class="math inline">\(F=AIA&#39;\)</span>（当 <span
class="math inline">\(X=Y\)</span> 时有 <span
class="math inline">\(A&#39;=A^T\)</span>）</li>
</ul>
<h3 id="morphing">Morphing</h3>
<p>即分块线性变换加交叉溶解</p>
<p>重心坐标（Barycentric Coordinates）：<span
class="math inline">\(X=\alpha A+\beta B+\gamma C\)</span>，且 <span
class="math inline">\(\alpha + \beta + \gamma =1\)</span></p>
<h3 id="seam-carving">Seam Carving</h3>
<p>即切掉较为同质的一行或一列，做到保持物体比例的图像大小变换</p>
<p>能量矩阵即对原图像作两个方向的梯度模板运算，再求 L2 范数</p>
<p>在能量矩阵上建图，上一行的点到下一行的三个点的边权为能量矩阵值的差，DP
求最短路</p>
<h3 id="梯度融合">梯度融合</h3>
<p>即将一部分图像粘贴到另一张图像，并且保持边缘梯度一致的方法</p>
<h3 id="光流法">光流法</h3>
<blockquote>
<p>对于两张图片，它们间进行了尺度不大的几何变换，想要求对应点</p>
</blockquote>
<p>给定两张图片 <span class="math inline">\(I\)</span> 和 <span
class="math inline">\(J\)</span>，设点 <span
class="math inline">\(\boldsymbol x\)</span> 在 <span
class="math inline">\(I\)</span> 的定义域内，求 <span
class="math inline">\(J\)</span> 中 <span
class="math inline">\(\boldsymbol x\)</span> 的对应点 <span
class="math inline">\(\boldsymbol x+\boldsymbol d\)</span> 使 <span
class="math inline">\(I(\boldsymbol x)\sim J(\boldsymbol x + \boldsymbol
d)\)</span></p>
<p>设 <span class="math inline">\(E(\boldsymbol d)=\|J(\boldsymbol x +
\boldsymbol d)-I(\boldsymbol x)\|^2\)</span>，求 <span
class="math inline">\(\arg\min E(\boldsymbol d)\)</span>；泰勒展开得
<span class="math display">\[
E(\boldsymbol d)\approx\left\|
J(\boldsymbol x) + \frac{\partial J(\boldsymbol x) }{\partial
\boldsymbol x}\boldsymbol d
-I(\boldsymbol x)
\right\|
\]</span> 这里梯度向量是行向量；设右部为零以列方程，移项得 <span
class="math display">\[
\frac{\partial J(\boldsymbol x) }{\partial \boldsymbol x}\boldsymbol d
=
I(\boldsymbol x)
-J(\boldsymbol x)
\]</span> 左右同乘 <span class="math inline">\(\boldsymbol x\)</span>
处梯度向量的转置得 <span class="math display">\[
\left({\frac{\partial J(\boldsymbol x) }{\partial \boldsymbol x}}^T
\frac{\partial J(\boldsymbol x) }{\partial \boldsymbol x}\right)
\boldsymbol d
=
{\frac{\partial J(\boldsymbol x) }{\partial \boldsymbol x}}^T
(I(\boldsymbol x)
-J(\boldsymbol x))
\]</span>
虽然可以求解，但是极易尺度过小导致左右均为零，所以要在一个窗口（点集合
<span class="math inline">\(W\)</span>）上列方程求解，注意到 <span
class="math inline">\(\boldsymbol d\)</span> 在窗口内共享 <span
class="math display">\[
\sum_{\boldsymbol x\in W}
\left({\frac{\partial J(\boldsymbol x) }{\partial \boldsymbol x}}^T
\frac{\partial J(\boldsymbol x) }{\partial \boldsymbol x}\right)
\boldsymbol d
=
\sum_{\boldsymbol x\in W}
{\frac{\partial J(\boldsymbol x) }{\partial \boldsymbol x}}^T
(I(\boldsymbol x)
-J(\boldsymbol x))
\]</span> 求得偏移量 <span class="math inline">\(\boldsymbol d\)</span>
后，对图像做变换，然后继续迭代，累加所有的偏移量直到两图像差异小于阈值</p>
<h2 id="机器学习">机器学习</h2>
<p>和别的课程重复的部分就不整理了，包括：感知机；梯度下降；BP；CNN
的概念；YOLO/SSD 等。</p>
<h3 id="cnn">CNN</h3>
<p><em>这一小节不符合符号规范，但是在深度学习的上下文中可以理解</em></p>
<p>假设输入特征张量 <span class="math inline">\(x\)</span> 的尺寸 <span
class="math inline">\((N,C_{in},W_{in},H_{in})\)</span>，输出张量 <span
class="math inline">\(y\)</span> 的尺寸 <span
class="math inline">\((N,C_{out},W_{out},H_{out})\)</span>，卷积核 <span
class="math inline">\(h\)</span> 的尺寸 <span
class="math inline">\((C_{in}, C_{out},W_{k},H_{k})\)</span></p>
<p>假设卷积操作的 Padding 为 Same，Stride 为 1，卷积 <span
class="math inline">\(y=x\otimes h\)</span>
的运算如下（卷积核以偏移量作索引） <span class="math display">\[
y_{c_o,x,y}=
\sum_{c_i=0}^{C_{in}}
\sum_{w=-\lfloor W/2\rfloor}^{\lfloor W/2\rfloor}
\sum_{h=-\lfloor H/2\rfloor}^{\lfloor H/2\rfloor}
x_{c_i,x+w,y+h}h_{c_i,c_o,w,h}
\]</span> 假设损失函数 <span class="math inline">\(L\)</span> 对 <span
class="math inline">\(y\)</span> 对导数为 <span
class="math inline">\(\delta_y\)</span>，那么反向传播 <span
class="math display">\[
\begin{cases}
\delta_x=\delta_y\otimes ROT_{180\degree}(h) \\
\dfrac{\partial L}{\partial h} = \delta_y\otimes ROT_{180\degree}(x)
\end{cases}
\]</span> 注意到，<span class="math inline">\(ROT_{180\degree}\)</span>
表示将二维图像旋转 180 度，也是索引取反。并且若正向的 Padding 是
Full，反向的 Padding 为 None，反之亦然。</p>
<h3 id="特征提取">特征提取</h3>
<h4 id="canny-边缘检测">Canny 边缘检测</h4>
<blockquote>
<p>将图像转换为图像的方式，生成的图像中的亮点说明原图像的对应点属于边缘</p>
</blockquote>
<ol type="1">
<li>高斯滤波；</li>
<li>计算边缘强度（两个方向梯度的 L2 范数）；</li>
<li>计算边缘方向（两个方向的梯度）；</li>
<li>极大值抑制；</li>
<li>连接边缘（Hystersis）：确定两个边缘强度的阈值，从强点开始沿着切线方向搜索加入所有的中强点。</li>
</ol>
<h4 id="harris-角点检测">Harris 角点检测</h4>
<blockquote>
<p>量化当前矩形框与周边的差异，并通过特征值判断是角点还是边</p>
</blockquote>
<p>对于矩形框中一个点 <span class="math inline">\((x+m,y+n)\)</span>
和加一个任意偏置 <span class="math inline">\((u,v)\)</span> 得到的新点
<span class="math inline">\((x+m+u,y+n+v)\)</span>，它们的差异是 <span
class="math inline">\([I(x+m+u,y+n+v)-I(x+m,y+n)]^2\)</span>；对其加权求和可得这个矩形框的任意方向差异度量
<span class="math display">\[
\sum_{m,n}w(m,n)[I(x+m+u,y+n+v)-I(x+m,y+n)]^2
\]</span> 其中 <span class="math inline">\(w(m,n)\)</span>
可以是一个高斯函数来强调矩形框中心的权重。接下来提出一种不用再对 <span
class="math inline">\(u,v\)</span> 求和的方法。首先关于 <span
class="math inline">\(u,v\)</span> 进行一阶 Taylor 近似 <span
class="math display">\[
\begin{aligned}
&amp;\sum_{m,n}w(m,n)\left[\frac{\partial I(x+m,y+n)}{\partial
x}u+\frac{\partial I(x+m,y+n)}{\partial y}v\right]^2
\\\triangleq &amp;
\sum_{m,n}w(m,n)\left[I_x(x+m,y+n)u+I_y(x+m,y+n)v\right]^2
\\= &amp;
\sum_{m,n}w(m,n)
\begin{bmatrix}u &amp; v\end{bmatrix}
\begin{bmatrix}
I_x^2(x+m,y+n) &amp; I_xI_y(x+m,y+n) \\
I_xI_y(x+m,y+n) &amp; I_y^2(x+m,y+n)
\end{bmatrix}
\begin{bmatrix}u \\ v\end{bmatrix}
\\\triangleq &amp;
\sum_{m,n}w(m,n)
\begin{bmatrix}u &amp; v\end{bmatrix}
H(x+m,y+n)
\begin{bmatrix}u \\ v\end{bmatrix}
\end{aligned}
\]</span> Hessian 矩阵 <span class="math inline">\(H\)</span>
是一个二次型矩阵，可以求其两个实特征值 <span
class="math inline">\(\lambda_1\)</span>，<span
class="math inline">\(\lambda_2\)</span>；我们关注两个特征值的大小，如果两个都很大，说明两个方向都有很大的变化系数，那么是角点；如果其中一个大，那么是边缘；如果都不大，说明不是角点也不是边缘。</p>
<p>实际上操作的时候可以先滤波，就不用考虑矩形框里求和了，直接对每个点求特征值就行。</p>
<h4 id="sift-特征">SIFT 特征</h4>
<blockquote>
<p>Scale-invariant feature detection</p>
</blockquote>
<h5 id="基础概念">基础概念</h5>
<p>LoG（Laplacian of Gaussian）即高斯核的拉普拉斯函数 <span
class="math display">\[
LoG(x,y)=
\Delta G
=
\frac{\partial G^2}{\partial x^2}+\frac{\partial G^2}{\partial y^2}=
\frac{1}{\pi\sigma^4}
\left(\frac{x^2+y^2}{2\sigma^2}-1\right)
\exp\left(-\frac{x^2+y^2}{2\sigma^2}\right)
\]</span> 归一化的 LoG <span class="math inline">\(\tilde \Delta
G=\sigma LoG\)</span></p>
<p>DoG（Diffierence of Gaussian）是不同方差（<span
class="math inline">\(\sigma\)</span> 和 <span
class="math inline">\(k\sigma\)</span>）的高斯核的差，是 LoG 的高效替代
<span class="math display">\[
\begin{aligned}
\sigma\Delta G=\frac{\partial G}{\partial \sigma}
&amp;\approx
\frac{G(x,y,k\sigma)-G(x,y,\sigma)}{(k-1)\sigma}
\\
&amp;\Longrightarrow
\\
DoG(x,y)&amp;=G(x,y,k\sigma)-G(x,y,\sigma)
=
(k-1)\sigma^2 \Delta G
\end{aligned}
\]</span> ##### 步骤</p>
<p>第一步：求尺度空间的极大值</p>
<p>给定输入图像 <span
class="math inline">\(I\)</span>，先分别使用六个方差（<span
class="math inline">\(\sigma,k\sigma,\cdots,k^5\sigma\)</span>）的高斯函数对其滤波得到六张图像（等价于用
<span class="math inline">\(k^n\sqrt{k^n-1}\sigma\)</span>
做五次），对其作差得到五张 DoG图像。对 <span
class="math inline">\(I\)</span> 两倍下采样一次作同样的一组
DoG，还可以下采样更多次，得到高斯金字塔。</p>
<p>若一个点在其 DoG 的八邻域以及相邻尺度的 DoG 的八邻域这 27
个点中是极大值，那么它是一个关键点。</p>
<p>第二步：关键点筛选和插值</p>
<p>首先对 DoG 插值，来更精细地定位关键点，然后类似 Harris 作 Hessian
矩阵过滤边缘，最后做阈值筛选出特征点。</p>
<p>第三步：确定方向</p>
<p>在特征点的邻域内求所有的梯度幅值和方向进行投票，投票出 36
个离散方向中的前几个作为特征的方向。</p>
<p>第四步：求描述子</p>
<p>依据特征点的方向，取 <span class="math inline">\(16\times 16\)</span>
邻域分为 <span class="math inline">\(4\times 4\)</span> 的块，对于每块做
8 个离散方向的梯度方向直方图，则最后得到一个 128 维的描述子。</p>
<h4 id="hog-特征">HOG 特征</h4>
<blockquote>
<p>Histogram of Oriented Gradient</p>
</blockquote>
<p>给定一个图像，拆成 <span class="math inline">\(8\times8\)</span>
的格子（Cell），每个格子统计一个九个离散方向的梯度直方图</p>
<p>对于每四个邻近格子，称为一块（Block），块内做归一化</p>
<p>对于一个 <span class="math inline">\(64\times 128\)</span>
大小的图像，滑动提取块后，将会有 <span class="math inline">\(7\times
15\)</span> 个块。每个块贡献各自的梯度直方图，形成一个维数 <span
class="math inline">\(36×7\times 15=3780\)</span> 的描述子</p>
<h3 id="特征差异度量">特征差异度量</h3>
<p>当使用 Harris 或 SIFT 等方法得到两个特征点 <span
class="math inline">\((x,y)\)</span>，<span
class="math inline">\((x&#39;,y&#39;)\)</span>
对应的图像块时，可以度量这两个图像块的差异</p>
<p>SAD（Sum of Absolute Difference） <span class="math display">\[
SAD=\sum_{n=-N}^N\sum_{m=-M}^M|I_1(x+m,y+n)-I_2(x&#39;+m,y&#39;+n)|
\]</span> MSE（Mean Squared Error） <span class="math display">\[
MSE=\frac{\sum_{n=-N}^N\sum_{m=-M}^M[I_1(x+m,y+n)-I_2(x&#39;+m,y&#39;+n)]^2}
{(2N+1)(2M+1)}
\]</span> NCC（Normalized Cross Correlation） <span
class="math display">\[
NCC=\frac{\sum_{n=-N}^N\sum_{m=-M}^M[I_1(x+m,y+n)-\mu_1][I_2(x&#39;+m,y&#39;+n)-\mu_2]}
{[(2N+1)(2M+1)-1]\sigma_1\sigma_2}
\]</span></p>
<h3 id="hough-投票">Hough 投票</h3>
<blockquote>
<p>对栅格图像中直线、圆等简单几何体（参数不多）进行矢量化的一种方法</p>
</blockquote>
<p>以直线为例：对于每个点，穷举一些通过它的直线，计算这些直线通过的别的点，进行投票</p>
<h3 id="ransac">RANSAC</h3>
<blockquote>
<p>Random Sample Consensus，是一种通过数据点拟合模型的方法</p>
</blockquote>
<p>步骤</p>
<ol type="1">
<li>随机采样：取一些足够计算出模型参数的样本</li>
<li>构建模型：计算模型参数</li>
<li>过滤：使用构建的模型和阈值，筛选出符合模型的样本</li>
<li>内点计数：统计各模型符合的样本数，找出最好的模型</li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/" rel="tag"># 课程笔记</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/06/14/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E8%80%83%E8%AF%95%E5%A4%8D%E4%B9%A0/" rel="prev" title="数据库系统考试复习">
      <i class="fa fa-chevron-left"></i> 数据库系统考试复习
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80%E8%80%83%E8%AF%95%E5%89%8D"><span class="nav-number">1.</span> <span class="nav-text">前言（考试前）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80%E8%80%83%E8%AF%95%E5%90%8E"><span class="nav-number">2.</span> <span class="nav-text">前言（考试后）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80%E5%87%BA%E5%88%86%E4%BA%86"><span class="nav-number">3.</span> <span class="nav-text">前言（出分了）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%A6%E5%8F%B7%E7%89%88%E5%BC%8F%E8%AF%B4%E6%98%8E"><span class="nav-number">4.</span> <span class="nav-text">符号版式说明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E5%AD%A6%E7%9F%A5%E8%AF%86"><span class="nav-number">5.</span> <span class="nav-text">数学知识</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="nav-number">6.</span> <span class="nav-text">基础知识</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B8%E6%9C%BA%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%BA%94%E7%94%A8"><span class="nav-number">7.</span> <span class="nav-text">相机模型和应用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E5%AD%94%E6%88%90%E5%83%8F%E6%A8%A1%E5%9E%8B%E5%92%8C%E6%91%84%E5%83%8F%E6%9C%BA%E5%86%85%E5%8F%82"><span class="nav-number">7.1.</span> <span class="nav-text">小孔成像模型和摄像机内参</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%96%E7%95%8C%E5%9D%90%E6%A0%87%E5%92%8C%E6%91%84%E5%83%8F%E6%9C%BA%E5%A4%96%E5%8F%82"><span class="nav-number">7.2.</span> <span class="nav-text">世界坐标和摄像机外参</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%91%84%E5%83%8F%E6%9C%BA%E6%A0%87%E5%AE%9A"><span class="nav-number">7.3.</span> <span class="nav-text">摄像机标定</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%BD%90%E6%AC%A1%E5%87%A0%E4%BD%95"><span class="nav-number">7.3.1.</span> <span class="nav-text">齐次几何</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B6%88%E5%A4%B1%E7%82%B9%E8%A7%A3%E6%97%8B%E8%BD%AC%E7%9F%A9%E9%98%B5"><span class="nav-number">7.3.2.</span> <span class="nav-text">消失点解旋转矩阵</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95%E5%BA%94%E7%9F%A9%E9%98%B5"><span class="nav-number">7.3.3.</span> <span class="nav-text">单应矩阵</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%A0%E6%AD%A3%E5%8F%8B%E6%A0%87%E5%AE%9A"><span class="nav-number">7.3.4.</span> <span class="nav-text">张正友标定</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89%E8%A7%92%E5%8C%96"><span class="nav-number">7.4.</span> <span class="nav-text">三角化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%95%E8%A7%86%E6%B5%8B%E9%87%8F"><span class="nav-number">7.5.</span> <span class="nav-text">单视测量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%8C%E8%A7%86%E5%87%A0%E4%BD%95"><span class="nav-number">7.6.</span> <span class="nav-text">双视几何</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86"><span class="nav-number">8.</span> <span class="nav-text">数字图像处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%A0%E4%BD%95%E5%8F%98%E6%8D%A2"><span class="nav-number">8.1.</span> <span class="nav-text">几何变换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%81%B0%E5%BA%A6%E5%8F%98%E6%8D%A2"><span class="nav-number">8.2.</span> <span class="nav-text">灰度变换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A9%BA%E9%97%B4%E6%BB%A4%E6%B3%A2"><span class="nav-number">8.3.</span> <span class="nav-text">空间滤波</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%91%E5%9F%9F%E5%8F%98%E6%8D%A2"><span class="nav-number">8.4.</span> <span class="nav-text">频域变换</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#dft"><span class="nav-number">8.4.1.</span> <span class="nav-text">DFT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#dct"><span class="nav-number">8.4.2.</span> <span class="nav-text">DCT</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#morphing"><span class="nav-number">8.5.</span> <span class="nav-text">Morphing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#seam-carving"><span class="nav-number">8.6.</span> <span class="nav-text">Seam Carving</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A2%AF%E5%BA%A6%E8%9E%8D%E5%90%88"><span class="nav-number">8.7.</span> <span class="nav-text">梯度融合</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%89%E6%B5%81%E6%B3%95"><span class="nav-number">8.8.</span> <span class="nav-text">光流法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0"><span class="nav-number">9.</span> <span class="nav-text">机器学习</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#cnn"><span class="nav-number">9.1.</span> <span class="nav-text">CNN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96"><span class="nav-number">9.2.</span> <span class="nav-text">特征提取</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#canny-%E8%BE%B9%E7%BC%98%E6%A3%80%E6%B5%8B"><span class="nav-number">9.2.1.</span> <span class="nav-text">Canny 边缘检测</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#harris-%E8%A7%92%E7%82%B9%E6%A3%80%E6%B5%8B"><span class="nav-number">9.2.2.</span> <span class="nav-text">Harris 角点检测</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sift-%E7%89%B9%E5%BE%81"><span class="nav-number">9.2.3.</span> <span class="nav-text">SIFT 特征</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5"><span class="nav-number">9.2.3.1.</span> <span class="nav-text">基础概念</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#hog-%E7%89%B9%E5%BE%81"><span class="nav-number">9.2.4.</span> <span class="nav-text">HOG 特征</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%89%B9%E5%BE%81%E5%B7%AE%E5%BC%82%E5%BA%A6%E9%87%8F"><span class="nav-number">9.3.</span> <span class="nav-text">特征差异度量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hough-%E6%8A%95%E7%A5%A8"><span class="nav-number">9.4.</span> <span class="nav-text">Hough 投票</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ransac"><span class="nav-number">9.5.</span> <span class="nav-text">RANSAC</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Junyang Zhang"
      src="/images/CasualPortraitOct2021.png">
  <p class="site-author-name" itemprop="name">Junyang Zhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">25</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/junyang-zh" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;junyang-zh" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:mail@junyang.me" title="E-Mail → mailto:mail@junyang.me" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://bytew.net/" title="https:&#x2F;&#x2F;bytew.net&#x2F;" rel="noopener" target="_blank">Nocriz</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://thelajiest.github.io/" title="https:&#x2F;&#x2F;thelajiest.github.io&#x2F;" rel="noopener" target="_blank">KON_automaton</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://www.kingsiong.top/" title="http:&#x2F;&#x2F;www.kingsiong.top&#x2F;" rel="noopener" target="_blank">iNxli</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://blog.mky.moe/" title="https:&#x2F;&#x2F;blog.mky.moe&#x2F;" rel="noopener" target="_blank">MonKey</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://blog.ccandle.top/" title="https:&#x2F;&#x2F;blog.ccandle.top&#x2F;" rel="noopener" target="_blank">CCandle</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://120.79.138.174:8080/" title="http:&#x2F;&#x2F;120.79.138.174:8080&#x2F;" rel="noopener" target="_blank">siyuanluo</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://yang-d19.github.io/" title="https:&#x2F;&#x2F;yang-d19.github.io&#x2F;" rel="noopener" target="_blank">Yangd19</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        
  <div class="languages">
    <label class="lang-select-label">
      <i class="fa fa-language"></i>
      <span>简体中文</span>
      <i class="fa fa-angle-up" aria-hidden="true"></i>
    </label>
    <select class="lang-select" data-canonical="">
      
        <option value="zh-CN" data-href="/2022/06/17/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89%E4%B8%8E%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/" selected="">
          简体中文
        </option>
      
        <option value="en" data-href="/en/2022/06/17/zh-CN/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89%E4%B8%8E%E6%A8%A1%E5%BC%8F%E8%AF%86%E5%88%AB/" selected="">
          English
        </option>
      
    </select>
  </div>

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Junyang Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>













<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'hA0Uyzupz2vdCpNOIC0MCJjT-gzGzoHsz',
      appKey     : 'dpOcFMwzmsVPyQPECkBb9TUP',
      placeholder: "Just comment!",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
